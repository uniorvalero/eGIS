import"./chunk-F5X5MWHG.js";import{a as Ye,b as ze,c as oe,e as Ue}from"./chunk-2IGJZFV7.js";import{a as Z,b as ee,c as Ne}from"./chunk-KGOMAVQY.js";import{a as te,b as qe,c as Ve,e as Pe,f as Oe,h as Ae,i as je,k as $e,l as Ge,n as Be,o as He,p as Qe,q as Le}from"./chunk-NFABPVPM.js";import{a as xe,b as Ee,c as J,d as ye,e as we,f as Te,g as ke,h as K}from"./chunk-3KDABX7K.js";import{c as Re,d as W}from"./chunk-RC2IBETA.js";import"./chunk-SYAC655V.js";import"./chunk-ECBSDO4K.js";import{a as Me,b as ve}from"./chunk-DQWGBFJK.js";import"./chunk-MS4AQ6UA.js";import{b as X}from"./chunk-LB6LRJVS.js";import"./chunk-YBNMVR6Q.js";import{a as he,b as Fe,c as Se}from"./chunk-AWMIQM5V.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import{c as L}from"./chunk-BUEFDGFJ.js";import"./chunk-SGYCFQGT.js";import{a as De}from"./chunk-HSUA2CKH.js";import{a as Ie}from"./chunk-TMATL23G.js";import{b as P,d as f,g as O,h as A,ha as M,ia as Y,ja as be,la as z,m as j,oa as v,p as $,pa as U,q as G,s as B,ta as x,ua as E,v as H,x as Q}from"./chunk-FPYKYBTQ.js";import{Db as n,Eb as i,Fb as u,Gb as I,Hb as h,Jb as S,Kc as q,Lb as C,Mb as R,Qb as y,Rb as w,Rc as V,Sb as T,Vb as b,Wb as r,Xb as ge,Y as de,Ya as m,Yb as d,ba as fe,bb as F,cc as N,db as _e,dc as Ce,ib as D,ka as _,la as g,nb as c,ub as s}from"./chunk-NKHI3LCY.js";function it(e,t){e&1&&(n(0,"mat-error"),r(1,"BookNumber is required"),i())}function nt(e,t){e&1&&(n(0,"mat-error"),r(1,"Quantity is required"),i())}function rt(e,t){e&1&&(n(0,"mat-error"),r(1,"Start Receipt is required"),i())}function ot(e,t){e&1&&(n(0,"mat-error"),r(1,"End Receipt is required"),i())}function at(e,t){e&1&&(n(0,"mat-error"),r(1,"Char is required"),i())}function mt(e,t){e&1&&(n(0,"mat-error"),r(1,"Teller Code is required"),i())}function lt(e,t){e&1&&(n(0,"mat-error"),r(1,"Teller Name is required"),i())}var ie=class e{constructor(t,o,a){this.fb=t;this.dialogRef=o;this.data=a;this.isEditMode=!!a.id,this.form=this.fb.group({id:[a.id],bookNumber:[a.bookNumber||"",[f.required]],quantity:[a.quantity||"",[f.required]],startReceipt:[a.startReceipt||"",[f.required]],endReceipt:[a.endReceipt||"",[f.required]],char:[a.char||"",[f.required]],tellerCode:[a.tellerCode||"",[f.required]],tellerName:[a.tellerName||"",[f.required]],finalDate:[a.finalDate||"",[f.required]],dateAssigned:[a.dateAssigned||"",[f.required]]})}form;isEditMode;onSubmit(){if(this.form.valid){console.log(this.form.value);let t=this.form.get("finalDate")?.value,o=this.form.get("dateAssigned")?.value;t&&this.form.patchValue({finalDate:t.toISOString().split("T")[0]}),o&&this.form.patchValue({dateAssigned:o.toISOString().split("T")[0]}),this.dialogRef.close(this.form.value)}}onCancel(){this.dialogRef.close()}static \u0275fac=function(o){return new(o||e)(F(H),F(Z),F(ee))};static \u0275cmp=D({type:e,selectors:[["app-form-issuance-dialog"]],features:[N([W()])],decls:58,vars:15,consts:[["finalPicker",""],["assignedPicker",""],[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],["matInput","","formControlName","bookNumber","required",""],[4,"ngIf"],["matInput","","formControlName","quantity","required",""],["matInput","","formControlName","startReceipt","required",""],["matInput","","formControlName","endReceipt","required",""],["matInput","","formControlName","char","required",""],["matInput","","formControlName","tellerCode","required",""],["matInput","","formControlName","tellerName","required",""],["matInput","","formControlName","finalDate",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","dateAssigned",3,"matDatepicker"],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(o,a){if(o&1){let l=S();n(0,"div",2)(1,"h2",3),r(2),i(),n(3,"form",4),C("ngSubmit",function(){return _(l),g(a.onSubmit())}),n(4,"mat-form-field",5)(5,"mat-label"),r(6," BookNumber"),i(),u(7,"input",6),c(8,it,2,0,"mat-error",7),i(),n(9,"mat-form-field",5)(10,"mat-label"),r(11," Quantity"),i(),u(12,"input",8),c(13,nt,2,0,"mat-error",7),i(),n(14,"mat-form-field",5)(15,"mat-label"),r(16," Start Receipt"),i(),u(17,"input",9),c(18,rt,2,0,"mat-error",7),i(),n(19,"mat-form-field",5)(20,"mat-label"),r(21," End Receipt"),i(),u(22,"input",10),c(23,ot,2,0,"mat-error",7),i(),n(24,"mat-form-field",5)(25,"mat-label"),r(26," Char"),i(),u(27,"input",11),c(28,at,2,0,"mat-error",7),i(),n(29,"mat-form-field",5)(30,"mat-label"),r(31," Teller Code"),i(),u(32,"input",12),c(33,mt,2,0,"mat-error",7),i(),n(34,"mat-form-field",5)(35,"mat-label"),r(36," Teller Name"),i(),u(37,"input",13),c(38,lt,2,0,"mat-error",7),i(),n(39,"mat-form-field",5)(40,"mat-label"),r(41,"Final Date"),i(),u(42,"input",14)(43,"mat-datepicker-toggle",15)(44,"mat-datepicker",null,0),i(),n(46,"mat-form-field",5)(47,"mat-label"),r(48,"Date Assigned"),i(),u(49,"input",16)(50,"mat-datepicker-toggle",15)(51,"mat-datepicker",null,1),i(),n(53,"div",17)(54,"button",18),C("click",function(){return _(l),g(a.onCancel())}),r(55,"Cancel"),i(),n(56,"button",19),r(57),i()()()()}if(o&2){let l,p,k,me,le,se,ce,ue=b(45),pe=b(52);m(2),d("",a.isEditMode?"Edit":"Add"," Form Issuance"),m(),s("formGroup",a.form),m(5),s("ngIf",(l=a.form.get("bookNumber"))==null?null:l.hasError("required")),m(5),s("ngIf",(p=a.form.get("quantity"))==null?null:p.hasError("required")),m(5),s("ngIf",(k=a.form.get("startReceipt"))==null?null:k.hasError("required")),m(5),s("ngIf",(me=a.form.get("endReceipt"))==null?null:me.hasError("required")),m(5),s("ngIf",(le=a.form.get("char"))==null?null:le.hasError("required")),m(5),s("ngIf",(se=a.form.get("tellerCode"))==null?null:se.hasError("required")),m(5),s("ngIf",(ce=a.form.get("tellerName"))==null?null:ce.hasError("required")),m(4),s("matDatepicker",ue),m(),s("for",ue),m(6),s("matDatepicker",pe),m(),s("for",pe),m(6),s("disabled",!a.form.valid),m(),ge(a.isEditMode?"Update":"Create")}},dependencies:[Q,j,P,O,A,B,$,G,U,v,M,Y,z,V,q,E,x,L,X,K,xe,Ee,J,Re],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;grid-column:span 2}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}.dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 600px){.form-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],changeDetection:0})};function st(e,t){e&1&&(n(0,"mat-error"),r(1,"Payor is required"),i())}var ne=class e{constructor(t,o,a){this.fb=t;this.dialogRef=o;this.data=a;this.form=this.fb.group({id:[a.id],dateFrom:[null,f.required],dateTo:[null,f.required],formCode:["",f.required]})}form;onSubmit(){if(this.form.valid){let t=this.form.value;this.dialogRef.close(t)}}onCancel(){this.dialogRef.close()}static \u0275fac=function(o){return new(o||e)(F(H),F(Z),F(ee))};static \u0275cmp=D({type:e,selectors:[["app-form-issuance-setup-dialog"]],features:[N([W()])],decls:23,vars:4,consts:[["picker",""],[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],[3,"rangePicker"],["matStartDate","","placeholder","Start date"],["matEndDate","","placeholder","End date"],["matIconSuffix","",3,"for"],["matInput","","formControlName","subcode","required",""],[4,"ngIf"],[1,"dialog-actions"],["mat-button","","type","button",3,"click"]],template:function(o,a){if(o&1){let l=S();n(0,"div",1)(1,"h2",2),r(2," Form Issuance Setup"),i(),n(3,"form",3),C("ngSubmit",function(){return _(l),g(a.onSubmit())}),n(4,"mat-form-field",4)(5,"mat-label"),r(6,"Enter a date range"),i(),n(7,"mat-date-range-input",5),u(8,"input",6)(9,"input",7),i(),n(10,"mat-hint"),r(11,"MM/DD/YYYY \u2013 MM/DD/YYYY"),i(),u(12,"mat-datepicker-toggle",8)(13,"mat-date-range-picker",null,0),i(),n(15,"mat-form-field",4)(16,"mat-label"),r(17,"Form"),i(),u(18,"input",9),c(19,st,2,0,"mat-error",10),i(),n(20,"div",11)(21,"button",12),C("click",function(){return _(l),g(a.onCancel())}),r(22,"Cancel"),i()()()()}if(o&2){let l,p=b(14);m(3),s("formGroup",a.form),m(4),s("rangePicker",p),m(5),s("for",p),m(7),s("ngIf",(l=a.form.get("subcode"))==null?null:l.hasError("required"))}},dependencies:[U,v,M,be,Y,z,E,x,K,J,ye,we,Te,ke,Q,j,P,O,A,B,$,G,V,q,L,X],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}"],changeDetection:0})};var re=class e{constructor(t){this.http=t}apibaseurl=De.toimsApiBaseURL;getFormIssuances(){return this.http.get(this.apibaseurl+"/FormIssuanceTransaction")}updateFormIssuances(t){return this.http.put(`${this.apibaseurl+"/FormIssuanceTransaction"}/${t.id}`,t)}createFormIssuance(t){return t.id=0,this.http.post(this.apibaseurl+"/FormIssuanceTransaction/Create",t)}deleteFormIssuance(t){return this.http.delete(`${this.apibaseurl+"/FormIssuanceTransaction"}/${t}`)}static \u0275fac=function(o){return new(o||e)(fe(Ie))};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})};var ut=["dynamicComponentContainer"],pt=()=>[5,10,25,100];function dt(e,t){e&1&&(n(0,"th",27),r(1," ID "),i())}function ft(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.id," ")}}function _t(e,t){e&1&&(n(0,"th",27),r(1," Book Number "),i())}function gt(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.bookNumber," ")}}function Ct(e,t){e&1&&(n(0,"th",27),r(1," Quantity"),i())}function It(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.quantity," ")}}function ht(e,t){e&1&&(n(0,"th",27),r(1," Start Receipt"),i())}function Ft(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.startReceipt," ")}}function St(e,t){e&1&&(n(0,"th",27),r(1," End Receipt"),i())}function bt(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.endReceipt," ")}}function Dt(e,t){e&1&&(n(0,"th",27),r(1," Char "),i())}function Mt(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.char," ")}}function vt(e,t){e&1&&(n(0,"th",27),r(1," Teller Code "),i())}function xt(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.tellerCode," ")}}function Et(e,t){e&1&&(n(0,"th",27),r(1," Teller Name "),i())}function yt(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.tellerName," ")}}function wt(e,t){e&1&&(n(0,"th",27),r(1," Final Date "),i())}function Tt(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.finalDate," ")}}function kt(e,t){e&1&&(n(0,"th",27),r(1," Date Assigned"),i())}function Rt(e,t){if(e&1&&(n(0,"td",28),r(1),i()),e&2){let o=t.$implicit;m(),d(" ",o.dateAssigned," ")}}function Nt(e,t){e&1&&(n(0,"th",29),r(1," Action "),i())}function qt(e,t){if(e&1){let o=S();n(0,"td",30)(1,"button",31),C("click",function(){let l=_(o).$implicit,p=R();return g(p.openDialog(l))}),n(2,"mat-icon"),r(3,"edit"),i()(),n(4,"button",32),C("click",function(){let l=_(o).$implicit,p=R();return g(p.deleteFormIssuance(l.id))}),n(5,"mat-icon"),r(6,"delete"),i()()()}}function Vt(e,t){e&1&&u(0,"tr",33)}function Pt(e,t){e&1&&u(0,"tr",34)}function Ot(e,t){if(e&1&&(n(0,"tr",35)(1,"td",36),r(2),i()()),e&2){R();let o=b(14);m(2),d('No data matching the filter "',o.value,'"')}}var Xe=class e{constructor(t,o){this.formIssuanceService=t;this.dialog=o}displayedColumns=["bookNumber","quantity","startReceipt","endReceipt","char","tellerCode","tellerName","actions"];dataSource;paginator;sort;table;container;ngOnInit(){this.loadFormIssuance()}loadFormIssuance(){this.formIssuanceService.getFormIssuances().subscribe(t=>{this.dataSource=new Le(t),console.log(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let o=t.target.value;this.dataSource.filter=o.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(ie,{data:t||{}}).afterClosed().subscribe(a=>{a&&(a.id?this.formIssuanceService.updateFormIssuances(a).subscribe(()=>{this.loadFormIssuance()}):this.formIssuanceService.createFormIssuance(a).subscribe(()=>{this.loadFormIssuance()}))})}openSetupDialog(t){let o=this.dialog.open(ne,{data:t||{}})}deleteFormIssuance(t){confirm("Are you sure you want to delete this form issuance?")&&this.formIssuanceService.deleteFormIssuance(t).subscribe(()=>{this.loadFormIssuance()})}static \u0275fac=function(o){return new(o||e)(F(re),F(Ne))};static \u0275cmp=D({type:e,selectors:[["app-form-issuance"]],viewQuery:function(o,a){if(o&1&&(y(oe,5),y(Ue,5),y(te,5),y(ut,5,_e)),o&2){let l;w(l=T())&&(a.paginator=l.first),w(l=T())&&(a.sort=l.first),w(l=T())&&(a.table=l.first),w(l=T())&&(a.container=l.first)}},decls:54,vars:5,consts:[["input",""],[1,"table-container"],[1,"button-row"],["mat-raised-button","","color","primary",3,"click"],[1,"full-width"],["matInput","","placeholder","Search form issuance...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","bookNumber"],["matColumnDef","quantity"],["matColumnDef","startReceipt"],["matColumnDef","endReceipt"],["matColumnDef","char"],["matColumnDef","tellerCode"],["matColumnDef","tellerName"],["matColumnDef","finalDate"],["matColumnDef","dateAssigned"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Edit Form Issuance",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete Form Issuance",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(o,a){if(o&1){let l=S();n(0,"div",1)(1,"div",2)(2,"div")(3,"button",3),C("click",function(){return _(l),g(a.openDialog())}),r(4,"Add Form Inssuance"),i(),n(5,"button",3),C("click",function(){return _(l),g(a.openSetupDialog())}),r(6,"Setup"),i(),n(7,"button",3),C("click",function(){return _(l),g(a.openDialog())}),r(8,"Utility"),i()()(),n(9,"div")(10,"mat-form-field",4)(11,"mat-label"),r(12,"Filter"),i(),n(13,"input",5,0),C("keyup",function(k){return _(l),g(a.applyFilter(k))}),i()()(),n(15,"div",6)(16,"table",7),I(17,8),c(18,dt,2,0,"th",9)(19,ft,2,1,"td",10),h(),I(20,11),c(21,_t,2,0,"th",9)(22,gt,2,1,"td",10),h(),I(23,12),c(24,Ct,2,0,"th",9)(25,It,2,1,"td",10),h(),I(26,13),c(27,ht,2,0,"th",9)(28,Ft,2,1,"td",10),h(),I(29,14),c(30,St,2,0,"th",9)(31,bt,2,1,"td",10),h(),I(32,15),c(33,Dt,2,0,"th",9)(34,Mt,2,1,"td",10),h(),I(35,16),c(36,vt,2,0,"th",9)(37,xt,2,1,"td",10),h(),I(38,17),c(39,Et,2,0,"th",9)(40,yt,2,1,"td",10),h(),I(41,18),c(42,wt,2,0,"th",9)(43,Tt,2,1,"td",10),h(),I(44,19),c(45,kt,2,0,"th",9)(46,Rt,2,1,"td",10),h(),I(47,20),c(48,Nt,2,0,"th",21)(49,qt,7,0,"td",22),h(),c(50,Vt,1,0,"tr",23)(51,Pt,1,0,"tr",24)(52,Ot,3,1,"tr",25),i(),u(53,"mat-paginator",26),i()()}o&2&&(m(16),s("dataSource",a.dataSource),m(34),s("matHeaderRowDef",a.displayedColumns),m(),s("matRowDefColumns",a.displayedColumns),m(2),s("pageSizeOptions",Ce(4,pt)))},dependencies:[v,E,x,M,Qe,te,Ve,je,Pe,qe,$e,Oe,Ae,Ge,Be,He,ve,Me,oe,Se,Fe,he,ze,Ye],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}.button-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.button-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}"]})};export{Xe as FormIssuanceComponent};
