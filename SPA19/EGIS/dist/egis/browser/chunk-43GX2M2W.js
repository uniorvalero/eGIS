import"./chunk-F5X5MWHG.js";import{a as ht,b as xt,c as U,e as vt}from"./chunk-2IGJZFV7.js";import{a as ot,b as it,c as rt,e as at,h as mt}from"./chunk-KGOMAVQY.js";import{a as k,b as lt,c as pt,e as ct,f as dt,h as st,i as ut,k as ft,l as gt,n as Ct,o as yt,p as _t,q as bt}from"./chunk-NFABPVPM.js";import{a as Mt}from"./chunk-QEDYW4PW.js";import"./chunk-ECBSDO4K.js";import{a as tt,b as et}from"./chunk-DQWGBFJK.js";import"./chunk-MS4AQ6UA.js";import{b as nt}from"./chunk-LB6LRJVS.js";import"./chunk-YBNMVR6Q.js";import{a as W,b as S,c as D}from"./chunk-AWMIQM5V.js";import{c as z}from"./chunk-FE5V2QVG.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import"./chunk-SGYCFQGT.js";import"./chunk-HSUA2CKH.js";import"./chunk-TMATL23G.js";import{b as Q,g as H,h as B,ha as I,ia as X,m as G,oa as E,p as L,pa as Z,q as $,s as Y,ta as O,ua as T,v as J,x as K}from"./chunk-FPYKYBTQ.js";import{Db as r,Eb as o,Fb as u,Gb as x,Hb as v,Jb as R,Kc as j,Lb as f,Mb as w,Qb as _,Rb as b,Rc as q,Sb as M,Vb as F,Wb as a,Xb as V,Ya as l,Yb as g,bb as d,db as N,dc as A,ib as h,ka as C,la as y,nb as s,ub as p}from"./chunk-NKHI3LCY.js";function kt(e,n){e&1&&(r(0,"mat-error"),a(1,"App Name is required"),o())}function Pt(e,n){e&1&&(r(0,"mat-error"),a(1,"Version is required"),o())}var P=class e{constructor(n,i,t){this.fb=n;this.dialogRef=i;this.data=t;this.isEditMode=!!t.id,this.form=this.fb.group({id:[t.id||null],countryName:[t.countryName||"",[]]})}form;isEditMode;onSubmit(){this.form.valid&&(console.log("Form submitted:",this.form.value),this.dialogRef.close(this.form.value))}onCancel(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(d(J),d(ot),d(it))};static \u0275cmp=h({type:e,selectors:[["app-user-country-dialog"]],decls:24,vars:6,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"full-width"],["matInput","","formControlName","appName","required",""],[4,"ngIf"],["matInput","","formControlName","description"],["matInput","","formControlName","version","required",""],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(i,t){if(i&1&&(r(0,"div",0)(1,"h2",1),a(2),o(),r(3,"form",2),f("ngSubmit",function(){return t.onSubmit()}),r(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),a(7,"App Name"),o(),u(8,"input",5),s(9,kt,2,0,"mat-error",6),o(),r(10,"mat-form-field",4)(11,"mat-label"),a(12,"Description"),o(),u(13,"input",7),o(),r(14,"mat-form-field",4)(15,"mat-label"),a(16,"Version"),o(),u(17,"input",8),s(18,Pt,2,0,"mat-error",6),o()(),r(19,"div",9)(20,"button",10),f("click",function(){return t.onCancel()}),a(21,"Cancel"),o(),r(22,"button",11),a(23),o()()()()),i&2){let m,c;l(2),g("",t.isEditMode?"Edit":"Add"," App"),l(),p("formGroup",t.form),l(6),p("ngIf",(m=t.form.get("appName"))==null?null:m.hasError("required")),l(9),p("ngIf",(c=t.form.get("version"))==null?null:c.hasError("required")),l(4),p("disabled",!t.form.valid),l(),V(t.isEditMode?"Update":"Create")}},dependencies:[q,j,T,O,E,I,X,Z,D,S,mt,at,nt,K,G,Q,H,B,Y,L,$],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px;background:transparent!important;box-shadow:none!important}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.dialog-actions[_ngcontent-%COMP%]{margin-top:24px;display:flex;justify-content:flex-end;gap:12px}  .mat-dialog-container{background:#ffffff80!important;box-shadow:0 8px 32px #0000002e;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}  .mat-form-field-appearance-fill .mat-form-field-flex,   .mat-form-field-appearance-fill .mat-form-field-infix,   .mat-form-field-appearance-fill .mat-form-field-outline,   .mat-form-field-wrapper,   .mat-form-field-flex,   .mat-form-field-infix,   .mat-input-element,   .mat-select-trigger,   .mat-select-value,   .mat-select,   input.mat-input-element,   textarea.mat-input-element{background:transparent!important;box-shadow:none!important}"]})};var Rt=["dynamicComponentContainer"],Ut=()=>[5,10,25,100];function Nt(e,n){e&1&&(r(0,"th",19),a(1," Id "),o())}function Ft(e,n){if(e&1&&(r(0,"td",20),a(1),o()),e&2){let i=n.$implicit;l(),g(" ",i.id," ")}}function Vt(e,n){e&1&&(r(0,"th",19),a(1," Country Name "),o())}function At(e,n){if(e&1&&(r(0,"td",20),a(1),o()),e&2){let i=n.$implicit;l(),g(" ",i.countryName," ")}}function jt(e,n){e&1&&(r(0,"th",21),a(1," Action "),o())}function qt(e,n){if(e&1){let i=R();r(0,"td",22)(1,"button",23),f("click",function(){let m=C(i).$implicit,c=w();return y(c.openDialog(m))}),r(2,"mat-icon"),a(3,"edit"),o()(),r(4,"button",24),f("click",function(){let m=C(i).$implicit,c=w();return y(c.deleteCountry(m))}),r(5,"mat-icon"),a(6,"delete"),o()()()}}function zt(e,n){e&1&&u(0,"tr",25)}function Qt(e,n){e&1&&u(0,"tr",26)}function Ht(e,n){if(e&1&&(r(0,"tr",27)(1,"td",28),a(2),o()()),e&2){w();let i=F(13);l(2),g('No data matching the filter "',i.value,'"')}}var wt=class e{constructor(n,i,t){this.router=n;this.countryService=i;this.dialog=t}countries=[];displayedColumns=["countryName","actions"];dataSource;paginator;sort;table;container;ngOnInit(){this.loadCountries()}loadCountries(){this.countryService.getCountries().subscribe(n=>{this.dataSource=new bt(n),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(n){let i=n.target.value;this.dataSource.filter=i.trim().toLocaleLowerCase()}openDialog(n){this.dialog.open(P,{data:n||{}}).afterClosed().subscribe(t=>{t&&(t.id?this.countryService.updateCountry(t).subscribe(()=>{this.loadCountries()}):this.countryService.createCountry(t).subscribe(()=>{this.loadCountries()}))})}deleteCountry(n){confirm(`Delete country ${n.countryName}?`)&&this.countryService.deleteCountry(n.id).subscribe(()=>this.loadCountries())}static \u0275fac=function(i){return new(i||e)(d(z),d(Mt),d(rt))};static \u0275cmp=h({type:e,selectors:[["app-user-country"]],viewQuery:function(i,t){if(i&1&&(_(U,5),_(vt,5),_(k,5),_(Rt,5,N)),i&2){let m;b(m=M())&&(t.paginator=m.first),b(m=M())&&(t.sort=m.first),b(m=M())&&(t.table=m.first),b(m=M())&&(t.container=m.first)}},decls:29,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",1,"load-batch-btn",3,"click"],[1,"full-width"],["matInput","","placeholder","Search user...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","countryName"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Edit Master Code",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete Master Code",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,t){if(i&1){let m=R();r(0,"div",1)(1,"div")(2,"h1",2),a(3,"Users"),o(),a(4," \xA0 "),r(5,"button",3),f("click",function(){return C(m),y(t.openDialog())}),a(6,"Add User"),o()(),a(7," \xA0 "),r(8,"div")(9,"mat-form-field",4)(10,"mat-label"),a(11,"Filter"),o(),r(12,"input",5,0),f("keyup",function(St){return C(m),y(t.applyFilter(St))}),o()()(),r(14,"div",6)(15,"table",7),x(16,8),s(17,Nt,2,0,"th",9)(18,Ft,2,1,"td",10),v(),x(19,11),s(20,Vt,2,0,"th",9)(21,At,2,1,"td",10),v(),x(22,12),s(23,jt,2,0,"th",13)(24,qt,7,0,"td",14),v(),s(25,zt,1,0,"tr",15)(26,Qt,1,0,"tr",16)(27,Ht,3,1,"tr",17),o(),u(28,"mat-paginator",18),o()()}i&2&&(l(15),p("dataSource",t.dataSource),l(10),p("matHeaderRowDef",t.displayedColumns),l(),p("matRowDefColumns",t.displayedColumns),l(2),p("pageSizeOptions",A(4,Ut)))},dependencies:[T,O,E,I,_t,k,pt,ut,ct,lt,ft,dt,st,gt,Ct,yt,et,tt,U,D,S,W,xt,ht],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;border:1.5px solid #e0e0e0;border-radius:10px;padding:24px;background:transparent;box-shadow:none}.load-batch-btn[_ngcontent-%COMP%]{height:50px;min-width:120px;margin-left:8px;background:#4169e1!important;color:#fff!important;font-weight:600;font-size:16px;border-radius:8px;box-shadow:0 2px 8px #4169e126;transition:background .2s,box-shadow .2s,transform .1s;letter-spacing:.5px;border:none;display:flex;align-items:left;justify-content:center;padding:0 24px;margin-bottom:24px}.load-batch-btn[_ngcontent-%COMP%]:hover, .load-batch-btn[_ngcontent-%COMP%]:focus{background:#274bb5!important;box-shadow:0 4px 16px #4169e140;transform:translateY(-2px) scale(1.03)}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{background:transparent!important}.mat-elevation-z8[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-paginator-range-actions,   .mat-paginator-page-size,   .mat-paginator-page-size-label,   .mat-paginator-range-label,   .mat-paginator-navigation-previous,   .mat-paginator-navigation-next,   .mat-paginator-page-size-select,   .mat-paginator-page-size-select .mat-select-trigger,   .mat-paginator-page-size-select .mat-select-value,   .paginator-row,   div[style*=background],   .mat-mdc-paginator,   .mat-mdc-paginator-container,   .mat-mdc-paginator-range-actions{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-mdc-paginator,   .mat-mdc-paginator-container{background:transparent!important;box-shadow:none!important;border:none!important}"]})};export{wt as UserCountryComponent};
