import{a as Se}from"./chunk-D74PC2AR.js";import{a as Ce,b as Te,c as he}from"./chunk-JZMA4RSN.js";import{b as te}from"./chunk-XND27LNV.js";import{c as V,e as ue,f as _e,g as ge}from"./chunk-T6XAED5K.js";import{e as q,f as ie,g as ne,i as re,j as oe,l as le,m as ae,o as me,p as de,r as pe,s as ce,t as se,u as fe}from"./chunk-IFJ4ZPCK.js";import"./chunk-3RK6DDJD.js";import{$ as w,aa as W,b as Q,d as S,fa as E,g as G,h as $,ja as X,ka as y,l as B,la as R,n as L,o as z,oa as Y,p as U,q as J,qa as Z,ra as ee,s as K}from"./chunk-6Q2Z7QGE.js";import"./chunk-ZJWXBZTA.js";import{n as A,s as H}from"./chunk-AXBZNO4R.js";import{Bb as n,Cb as i,Db as c,Eb as g,Fb as C,Hb as N,Lb as u,Mb as x,Qb as b,Rb as D,Sb as I,Va as a,Vb as O,Wb as l,Xb as P,Yb as s,_a as _,dc as j,fb as v,ia as T,ja as h,lb as d,sb as p}from"./chunk-KFEO7OMD.js";function we(e,t){e&1&&(n(0,"mat-error"),l(1,"Code is required"),i())}function Ee(e,t){e&1&&(n(0,"mat-error"),l(1,"User ID is required"),i())}function ye(e,t){e&1&&(n(0,"mat-error"),l(1,"Name is required"),i())}function Re(e,t){e&1&&(n(0,"mat-error"),l(1,"Designation is required"),i())}var F=class e{constructor(t,o,r){this.fb=t;this.dialogRef=o;this.data=r;this.isEditMode=!!r.id,this.form=this.fb.group({id:[r.id],code:[r.code||"",[S.required]],userId:[r.userId||"",[S.required]],name:[r.name||"",[S.required]],designation:[r.designation||"",[S.required]]})}form;isEditMode;onSubmit(){this.form.valid&&this.dialogRef.close(this.form.value)}onCancel(){this.dialogRef.close()}static \u0275fac=function(o){return new(o||e)(_(J),_(Ce),_(Te))};static \u0275cmp=v({type:e,selectors:[["app-teller-dialog"]],decls:29,vars:8,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],["matInput","","formControlName","code","required",""],[4,"ngIf"],["matInput","","formControlName","userId","required",""],["matInput","","formControlName","name","required",""],["matInput","","formControlName","designation","required",""],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(o,r){if(o&1&&(n(0,"div",0)(1,"h2",1),l(2),i(),n(3,"form",2),u("ngSubmit",function(){return r.onSubmit()}),n(4,"mat-form-field",3)(5,"mat-label"),l(6," Code"),i(),c(7,"input",4),d(8,we,2,0,"mat-error",5),i(),n(9,"mat-form-field",3)(10,"mat-label"),l(11,"UserID "),i(),c(12,"input",6),d(13,Ee,2,0,"mat-error",5),i(),n(14,"mat-form-field",3)(15,"mat-label"),l(16,"Name"),i(),c(17,"input",7),d(18,ye,2,0,"mat-error",5),i(),n(19,"mat-form-field",3)(20,"mat-label"),l(21,"Designation"),i(),c(22,"input",8),d(23,Re,2,0,"mat-error",5),i(),n(24,"div",9)(25,"button",10),u("click",function(){return r.onCancel()}),l(26,"Cancel"),i(),n(27,"button",11),l(28),i()()()()),o&2){let m,f,M,k;a(2),s("",r.isEditMode?"Edit":"Add"," Teller"),a(),p("formGroup",r.form),a(5),p("ngIf",(m=r.form.get("code"))==null?null:m.hasError("required")),a(5),p("ngIf",(f=r.form.get("userId"))==null?null:f.hasError("required")),a(5),p("ngIf",(M=r.form.get("name"))==null?null:M.hasError("required")),a(5),p("ngIf",(k=r.form.get("designation"))==null?null:k.hasError("required")),a(4),p("disabled",!r.form.valid),a(),P(r.isEditMode?"Update":"Create")}},dependencies:[K,B,Q,G,$,U,L,z,X,E,w,W,H,A,R,y,te],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}"]})};var qe=()=>[5,10,25,100];function Fe(e,t){e&1&&(n(0,"th",22),l(1," ID "),i())}function Ne(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.id," ")}}function Ve(e,t){e&1&&(n(0,"th",22),l(1," Code "),i())}function ke(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.code," ")}}function Oe(e,t){e&1&&(n(0,"th",22),l(1," User Id "),i())}function Pe(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.userId," ")}}function je(e,t){e&1&&(n(0,"th",22),l(1," Designation "),i())}function Ae(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.designation," ")}}function He(e,t){e&1&&(n(0,"th",22),l(1," Name "),i())}function Qe(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.name," ")}}function Ge(e,t){e&1&&(n(0,"th",24),l(1," Action "),i())}function $e(e,t){if(e&1){let o=N();n(0,"td",25)(1,"button",26),u("click",function(){let m=T(o).$implicit,f=x();return h(f.openDialog(m))}),n(2,"mat-icon"),l(3,"edit"),i()(),n(4,"button",26),u("click",function(){let m=T(o).$implicit,f=x();return h(f.deleteTeller(m.id))}),n(5,"mat-icon"),l(6,"delete"),i()()()}}function Be(e,t){e&1&&c(0,"tr",27)}function Le(e,t){e&1&&c(0,"tr",28)}function ze(e,t){if(e&1&&(n(0,"tr",29)(1,"td",30),l(2),i()()),e&2){x();let o=O(11);a(2),s('No data matching the filter "',o.value,'"')}}var Me=class e{constructor(t,o){this.tellerService=t;this.dialog=o}displayedColumns=["code","userId","designation","name","actions"];dataSource;paginator;sort;table;ngOnInit(){this.loadTeller()}loadTeller(){this.tellerService.getTellers().subscribe(t=>{this.dataSource=new fe(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let o=t.target.value;this.dataSource.filter=o.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(F,{data:t||{}}).afterClosed().subscribe(r=>{r&&(r.id?this.tellerService.updateTeller(r).subscribe(()=>{this.loadTeller()}):this.tellerService.createTeller(r).subscribe(()=>{this.loadTeller()}))})}deleteTeller(t){confirm("Are you sure you want to delete this teller?")&&this.tellerService.deleteTeller(t).subscribe(()=>{this.loadTeller()})}static \u0275fac=function(o){return new(o||e)(_(Se),_(he))};static \u0275cmp=v({type:e,selectors:[["app-teller"]],viewQuery:function(o,r){if(o&1&&(b(V,5),b(ue,5),b(q,5)),o&2){let m;D(m=I())&&(r.paginator=m.first),D(m=I())&&(r.sort=m.first),D(m=I())&&(r.table=m.first)}},decls:36,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",3,"click"],[1,"full-width"],["matInput","","placeholder","Search teller...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","userId"],["matColumnDef","designation"],["matColumnDef","name"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(o,r){if(o&1){let m=N();n(0,"div",1)(1,"div")(2,"h1",2),l(3,"Teller Master Entry"),i(),n(4,"button",3),u("click",function(){return T(m),h(r.openDialog())}),l(5,"Add Teller"),i()(),n(6,"div")(7,"mat-form-field",4)(8,"mat-label"),l(9,"Filter"),i(),n(10,"input",5,0),u("keyup",function(M){return T(m),h(r.applyFilter(M))}),i()()(),n(12,"div",6)(13,"table",7),g(14,8),d(15,Fe,2,0,"th",9)(16,Ne,2,1,"td",10),C(),g(17,11),d(18,Ve,2,0,"th",9)(19,ke,2,1,"td",10),C(),g(20,12),d(21,Oe,2,0,"th",9)(22,Pe,2,1,"td",10),C(),g(23,13),d(24,je,2,0,"th",9)(25,Ae,2,1,"td",10),C(),g(26,14),d(27,He,2,0,"th",9)(28,Qe,2,1,"td",10),C(),g(29,15),d(30,Ge,2,0,"th",16)(31,$e,7,0,"td",17),C(),d(32,Be,1,0,"tr",18)(33,Le,1,0,"tr",19)(34,ze,3,1,"tr",20),i(),c(35,"mat-paginator",21),i()()}o&2&&(a(13),p("dataSource",r.dataSource),a(19),p("matHeaderRowDef",r.displayedColumns),a(),p("matRowDefColumns",r.displayedColumns),a(2),p("pageSizeOptions",j(4,qe)))},dependencies:[E,R,y,w,se,q,ne,ae,re,ie,me,oe,le,de,pe,ce,ge,_e,V,ee,Z,Y],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}"]})};export{Me as TellerComponent};
