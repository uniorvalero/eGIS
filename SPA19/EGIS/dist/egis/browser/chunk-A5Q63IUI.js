import{a as De}from"./chunk-ZCQZPNF2.js";import{a as Ie}from"./chunk-D54YAZEG.js";import"./chunk-F5X5MWHG.js";import{a as we,b as Se,c as N,e as ye}from"./chunk-2IGJZFV7.js";import{a as re,b as me,c as le,e as pe,h as de}from"./chunk-KGOMAVQY.js";import{a as k,b as ce,c as se,e as ue,f as fe,h as ge,i as Me,k as _e,l as be,n as Ce,o as he,p as xe,q as ve}from"./chunk-NFABPVPM.js";import"./chunk-ECBSDO4K.js";import{a as te,b as ne}from"./chunk-DQWGBFJK.js";import"./chunk-MS4AQ6UA.js";import{a as ae,b as oe}from"./chunk-LB6LRJVS.js";import{f as ie}from"./chunk-YBNMVR6Q.js";import{a as X,b as y,c as I}from"./chunk-AWMIQM5V.js";import{c as Q}from"./chunk-FE5V2QVG.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import"./chunk-SGYCFQGT.js";import"./chunk-HSUA2CKH.js";import"./chunk-TMATL23G.js";import{b as H,g as B,h as G,ha as D,ia as Z,m as $,oa as E,p as L,pa as ee,q as Y,s as J,ta as O,ua as T,v as K,x as W}from"./chunk-FPYKYBTQ.js";import{Db as a,Eb as o,Fb as g,Gb as b,Hb as C,Jb as R,Jc as j,Kc as q,Lb as u,Mb as S,Qb as h,Rb as x,Rc as z,Sb as v,Vb as A,Wb as r,Xb as U,Ya as l,Yb as f,bb as c,db as F,dc as V,ib as w,ka as M,la as _,nb as d,ub as p}from"./chunk-NKHI3LCY.js";function Ne(e,t){if(e&1&&(a(0,"mat-option",12),r(1),o()),e&2){let i=t.$implicit;p("value",i.id),l(),U(i.name)}}function Fe(e,t){e&1&&(a(0,"mat-error"),r(1,"App is required"),o())}function Ae(e,t){e&1&&(a(0,"mat-error"),r(1,"Menu Name is required"),o())}var P=class e{constructor(t,i,n,m){this.fb=t;this.dialogRef=i;this.data=n;this.appService=m;this.isEditMode=!!n.id,this.form=this.fb.group({id:[n.id||null],menuName:[n.menuName||"",[]],appId:[n.appId||null,[]]})}form;isEditMode;apps=[];ngOnInit(){this.appService.getApps().subscribe(t=>{this.apps=t})}onSubmit(){this.form.valid&&(console.log("Form submitted:",this.form.value),this.dialogRef.close(this.form.value))}onCancel(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(c(K),c(re),c(me),c(Ie))};static \u0275cmp=w({type:e,selectors:[["app-user-menu-dialog"]],decls:21,vars:7,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"full-width"],["formControlName","appId","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","menuName","required",""],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"],[3,"value"]],template:function(i,n){if(i&1&&(a(0,"div",0)(1,"h2",1),r(2),o(),a(3,"form",2),u("ngSubmit",function(){return n.onSubmit()}),a(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),r(7,"App"),o(),a(8,"mat-select",5),d(9,Ne,2,2,"mat-option",6),o(),d(10,Fe,2,0,"mat-error",7),o(),a(11,"mat-form-field",4)(12,"mat-label"),r(13,"Menu Name"),o(),g(14,"input",8),d(15,Ae,2,0,"mat-error",7),o()(),a(16,"div",9)(17,"button",10),u("click",function(){return n.onCancel()}),r(18,"Cancel"),o(),a(19,"button",11),r(20),o()()()()),i&2){let m,s;l(2),f("",n.isEditMode?"Edit":"Add"," App"),l(),p("formGroup",n.form),l(6),p("ngForOf",n.apps),l(),p("ngIf",(m=n.form.get("appId"))==null?null:m.hasError("required")),l(5),p("ngIf",(s=n.form.get("menuName"))==null?null:s.hasError("required")),l(4),p("disabled",!n.form.valid),l(),U(n.isEditMode?"Update":"Create")}},dependencies:[z,j,q,T,O,E,D,Z,ee,I,y,de,pe,oe,ae,ie,W,$,H,B,G,J,L,Y],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px;background:transparent!important;box-shadow:none!important}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.dialog-actions[_ngcontent-%COMP%]{margin-top:24px;display:flex;justify-content:flex-end;gap:12px}  .mat-dialog-container{background:#ffffff80!important;box-shadow:0 8px 32px #0000002e;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}  .mat-form-field-appearance-fill .mat-form-field-flex,   .mat-form-field-appearance-fill .mat-form-field-infix,   .mat-form-field-appearance-fill .mat-form-field-outline,   .mat-form-field-wrapper,   .mat-form-field-flex,   .mat-form-field-infix,   .mat-input-element,   .mat-select-trigger,   .mat-select-value,   .mat-select,   input.mat-input-element,   textarea.mat-input-element{background:transparent!important;box-shadow:none!important}"]})};var Ve=["dynamicComponentContainer"],je=()=>[5,10,25,100];function qe(e,t){e&1&&(a(0,"th",20),r(1," Id "),o())}function ze(e,t){if(e&1&&(a(0,"td",21),r(1),o()),e&2){let i=t.$implicit;l(),f(" ",i.id," ")}}function Qe(e,t){e&1&&(a(0,"th",20),r(1," Menu Name "),o())}function He(e,t){if(e&1&&(a(0,"td",21),r(1),o()),e&2){let i=t.$implicit;l(),f(" ",i.menuName," ")}}function Be(e,t){e&1&&(a(0,"th",20),r(1," App ID "),o())}function Ge(e,t){if(e&1&&(a(0,"td",21),r(1),o()),e&2){let i=t.$implicit;l(),f(" ",i.appId," ")}}function $e(e,t){e&1&&(a(0,"th",22),r(1," Action "),o())}function Le(e,t){if(e&1){let i=R();a(0,"td",23)(1,"button",24),u("click",function(){let m=M(i).$implicit,s=S();return _(s.openDialog(m))}),a(2,"mat-icon"),r(3,"edit"),o()(),a(4,"button",25),u("click",function(){let m=M(i).$implicit,s=S();return _(s.deleteMenu(m))}),a(5,"mat-icon"),r(6,"delete"),o()()()}}function Ye(e,t){e&1&&g(0,"tr",26)}function Je(e,t){e&1&&g(0,"tr",27)}function Ke(e,t){if(e&1&&(a(0,"tr",28)(1,"td",29),r(2),o()()),e&2){S();let i=A(13);l(2),f('No data matching the filter "',i.value,'"')}}var Ee=class e{constructor(t,i,n){this.router=t;this.menuService=i;this.dialog=n}menus=[];displayedColumns=["menuName","appId","actions"];dataSource;paginator;sort;table;container;ngOnInit(){this.loadMenus()}loadMenus(){this.menuService.getMenus().subscribe(t=>{this.dataSource=new ve(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let i=t.target.value;this.dataSource.filter=i.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(P,{data:t||{}}).afterClosed().subscribe(n=>{n&&(n.id?this.menuService.updateMenu(n).subscribe(()=>{this.loadMenus()}):this.menuService.createMenu(n).subscribe(()=>{this.loadMenus()}))})}deleteMenu(t){confirm(`Delete menu ${t.menuName}?`)&&this.menuService.deleteMenu(t.id).subscribe(()=>this.loadMenus())}static \u0275fac=function(i){return new(i||e)(c(Q),c(De),c(le))};static \u0275cmp=w({type:e,selectors:[["app-user-menu"]],viewQuery:function(i,n){if(i&1&&(h(N,5),h(ye,5),h(k,5),h(Ve,5,F)),i&2){let m;x(m=v())&&(n.paginator=m.first),x(m=v())&&(n.sort=m.first),x(m=v())&&(n.table=m.first),x(m=v())&&(n.container=m.first)}},decls:32,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",1,"load-batch-btn",3,"click"],[1,"full-width"],["matInput","","placeholder","Search menu item...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","menuName"],["matColumnDef","appId"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of menu items",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Edit Menu Item",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete Menu Item",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,n){if(i&1){let m=R();a(0,"div",1)(1,"div")(2,"h1",2),r(3,"Menu"),o(),r(4," \xA0 "),a(5,"button",3),u("click",function(){return M(m),_(n.openDialog())}),r(6,"Add Menu Item"),o()(),r(7," \xA0 "),a(8,"div")(9,"mat-form-field",4)(10,"mat-label"),r(11,"Filter"),o(),a(12,"input",5,0),u("keyup",function(Oe){return M(m),_(n.applyFilter(Oe))}),o()()(),a(14,"div",6)(15,"table",7),b(16,8),d(17,qe,2,0,"th",9)(18,ze,2,1,"td",10),C(),b(19,11),d(20,Qe,2,0,"th",9)(21,He,2,1,"td",10),C(),b(22,12),d(23,Be,2,0,"th",9)(24,Ge,2,1,"td",10),C(),b(25,13),d(26,$e,2,0,"th",14)(27,Le,7,0,"td",15),C(),d(28,Ye,1,0,"tr",16)(29,Je,1,0,"tr",17)(30,Ke,3,1,"tr",18),o(),g(31,"mat-paginator",19),o()()}i&2&&(l(15),p("dataSource",n.dataSource),l(13),p("matHeaderRowDef",n.displayedColumns),l(),p("matRowDefColumns",n.displayedColumns),l(2),p("pageSizeOptions",V(4,je)))},dependencies:[T,O,E,D,xe,k,se,Me,ue,ce,_e,fe,ge,be,Ce,he,ne,te,N,I,y,X,Se,we],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;border:1.5px solid #e0e0e0;border-radius:10px;padding:24px;background:transparent;box-shadow:none}.load-batch-btn[_ngcontent-%COMP%]{height:50px;min-width:120px;margin-left:8px;background:#4169e1!important;color:#fff!important;font-weight:600;font-size:16px;border-radius:8px;box-shadow:0 2px 8px #4169e126;transition:background .2s,box-shadow .2s,transform .1s;letter-spacing:.5px;border:none;display:flex;align-items:left;justify-content:center;padding:0 24px;margin-bottom:24px}.load-batch-btn[_ngcontent-%COMP%]:hover, .load-batch-btn[_ngcontent-%COMP%]:focus{background:#274bb5!important;box-shadow:0 4px 16px #4169e140;transform:translateY(-2px) scale(1.03)}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{background:transparent!important}.mat-elevation-z8[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-paginator-range-actions,   .mat-paginator-page-size,   .mat-paginator-page-size-label,   .mat-paginator-range-label,   .mat-paginator-navigation-previous,   .mat-paginator-navigation-next,   .mat-paginator-page-size-select,   .mat-paginator-page-size-select .mat-select-trigger,   .mat-paginator-page-size-select .mat-select-value,   .paginator-row,   div[style*=background],   .mat-mdc-paginator,   .mat-mdc-paginator-container,   .mat-mdc-paginator-range-actions{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-mdc-paginator,   .mat-mdc-paginator-container{background:transparent!important;box-shadow:none!important;border:none!important}"]})};export{Ee as UserMenuComponent};
