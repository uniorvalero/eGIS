import{a as Se}from"./chunk-7VUU5X4P.js";import{c as V,e as he}from"./chunk-2IGJZFV7.js";import{a as re,b as oe,c as le}from"./chunk-KGOMAVQY.js";import{a as q,b as ae,c as me,e as de,f as pe,h as ce,i as se,k as ue,l as fe,n as _e,o as ge,p as Ce,q as Te}from"./chunk-NFABPVPM.js";import"./chunk-ECBSDO4K.js";import{a as ie,b as ne}from"./chunk-DQWGBFJK.js";import"./chunk-LB6LRJVS.js";import"./chunk-YBNMVR6Q.js";import{a as W,b as X,c as Y}from"./chunk-AWMIQM5V.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import{c as Z}from"./chunk-BUEFDGFJ.js";import"./chunk-SGYCFQGT.js";import"./chunk-HSUA2CKH.js";import"./chunk-TMATL23G.js";import{b as Q,d as S,g as G,h as $,ha as w,ia as ee,m as B,oa as E,p as L,pa as te,q as z,s as U,ta as y,ua as R,v as J,x as K}from"./chunk-FPYKYBTQ.js";import{Db as n,Eb as i,Fb as c,Gb as g,Hb as C,Jb as N,Kc as A,Lb as f,Mb as x,Qb as b,Rb as D,Rc as H,Sb as I,Vb as O,Wb as l,Xb as P,Ya as a,Yb as s,bb as _,dc as j,ib as v,ka as T,la as h,nb as d,ub as p}from"./chunk-NKHI3LCY.js";function Ie(e,t){e&1&&(n(0,"mat-error"),l(1,"Code is required"),i())}function we(e,t){e&1&&(n(0,"mat-error"),l(1,"User ID is required"),i())}function Ee(e,t){e&1&&(n(0,"mat-error"),l(1,"Name is required"),i())}function ye(e,t){e&1&&(n(0,"mat-error"),l(1,"Designation is required"),i())}var F=class e{constructor(t,o,r){this.fb=t;this.dialogRef=o;this.data=r;this.isEditMode=!!r.id,this.form=this.fb.group({id:[r.id],code:[r.code||"",[S.required]],userId:[r.userId||"",[S.required]],name:[r.name||"",[S.required]],designation:[r.designation||"",[S.required]]})}form;isEditMode;onSubmit(){this.form.valid&&this.dialogRef.close(this.form.value)}onCancel(){this.dialogRef.close()}static \u0275fac=function(o){return new(o||e)(_(J),_(re),_(oe))};static \u0275cmp=v({type:e,selectors:[["app-teller-dialog"]],decls:29,vars:8,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],["matInput","","formControlName","code","required",""],[4,"ngIf"],["matInput","","formControlName","userId","required",""],["matInput","","formControlName","name","required",""],["matInput","","formControlName","designation","required",""],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(o,r){if(o&1&&(n(0,"div",0)(1,"h2",1),l(2),i(),n(3,"form",2),f("ngSubmit",function(){return r.onSubmit()}),n(4,"mat-form-field",3)(5,"mat-label"),l(6," Code"),i(),c(7,"input",4),d(8,Ie,2,0,"mat-error",5),i(),n(9,"mat-form-field",3)(10,"mat-label"),l(11,"UserID "),i(),c(12,"input",6),d(13,we,2,0,"mat-error",5),i(),n(14,"mat-form-field",3)(15,"mat-label"),l(16,"Name"),i(),c(17,"input",7),d(18,Ee,2,0,"mat-error",5),i(),n(19,"mat-form-field",3)(20,"mat-label"),l(21,"Designation"),i(),c(22,"input",8),d(23,ye,2,0,"mat-error",5),i(),n(24,"div",9)(25,"button",10),f("click",function(){return r.onCancel()}),l(26,"Cancel"),i(),n(27,"button",11),l(28),i()()()()),o&2){let m,u,M,k;a(2),s("",r.isEditMode?"Edit":"Add"," Teller"),a(),p("formGroup",r.form),a(5),p("ngIf",(m=r.form.get("code"))==null?null:m.hasError("required")),a(5),p("ngIf",(u=r.form.get("userId"))==null?null:u.hasError("required")),a(5),p("ngIf",(M=r.form.get("name"))==null?null:M.hasError("required")),a(5),p("ngIf",(k=r.form.get("designation"))==null?null:k.hasError("required")),a(4),p("disabled",!r.form.valid),a(),P(r.isEditMode?"Update":"Create")}},dependencies:[K,B,Q,G,$,U,L,z,te,E,w,ee,H,A,R,y,Z],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}"]})};var Re=()=>[5,10,25,100];function qe(e,t){e&1&&(n(0,"th",22),l(1," ID "),i())}function Fe(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.id," ")}}function Ne(e,t){e&1&&(n(0,"th",22),l(1," Code "),i())}function Ve(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.code," ")}}function ke(e,t){e&1&&(n(0,"th",22),l(1," User Id "),i())}function Oe(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.userId," ")}}function Pe(e,t){e&1&&(n(0,"th",22),l(1," Designation "),i())}function je(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.designation," ")}}function Ae(e,t){e&1&&(n(0,"th",22),l(1," Name "),i())}function He(e,t){if(e&1&&(n(0,"td",23),l(1),i()),e&2){let o=t.$implicit;a(),s(" ",o.name," ")}}function Qe(e,t){e&1&&(n(0,"th",24),l(1," Action "),i())}function Ge(e,t){if(e&1){let o=N();n(0,"td",25)(1,"button",26),f("click",function(){let m=T(o).$implicit,u=x();return h(u.openDialog(m))}),n(2,"mat-icon"),l(3,"edit"),i()(),n(4,"button",26),f("click",function(){let m=T(o).$implicit,u=x();return h(u.deleteTeller(m.id))}),n(5,"mat-icon"),l(6,"delete"),i()()()}}function $e(e,t){e&1&&c(0,"tr",27)}function Be(e,t){e&1&&c(0,"tr",28)}function Le(e,t){if(e&1&&(n(0,"tr",29)(1,"td",30),l(2),i()()),e&2){x();let o=O(11);a(2),s('No data matching the filter "',o.value,'"')}}var Me=class e{constructor(t,o){this.tellerService=t;this.dialog=o}displayedColumns=["code","userId","designation","name","actions"];dataSource;paginator;sort;table;ngOnInit(){this.loadTeller()}loadTeller(){this.tellerService.getTellers().subscribe(t=>{this.dataSource=new Te(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let o=t.target.value;this.dataSource.filter=o.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(F,{data:t||{}}).afterClosed().subscribe(r=>{r&&(r.id?this.tellerService.updateTeller(r).subscribe(()=>{this.loadTeller()}):this.tellerService.createTeller(r).subscribe(()=>{this.loadTeller()}))})}deleteTeller(t){confirm("Are you sure you want to delete this teller?")&&this.tellerService.deleteTeller(t).subscribe(()=>{this.loadTeller()})}static \u0275fac=function(o){return new(o||e)(_(Se),_(le))};static \u0275cmp=v({type:e,selectors:[["app-teller"]],viewQuery:function(o,r){if(o&1&&(b(V,5),b(he,5),b(q,5)),o&2){let m;D(m=I())&&(r.paginator=m.first),D(m=I())&&(r.sort=m.first),D(m=I())&&(r.table=m.first)}},decls:36,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",3,"click"],[1,"full-width"],["matInput","","placeholder","Search teller...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","userId"],["matColumnDef","designation"],["matColumnDef","name"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(o,r){if(o&1){let m=N();n(0,"div",1)(1,"div")(2,"h1",2),l(3,"Teller Master Entry"),i(),n(4,"button",3),f("click",function(){return T(m),h(r.openDialog())}),l(5,"Add Teller"),i()(),n(6,"div")(7,"mat-form-field",4)(8,"mat-label"),l(9,"Filter"),i(),n(10,"input",5,0),f("keyup",function(M){return T(m),h(r.applyFilter(M))}),i()()(),n(12,"div",6)(13,"table",7),g(14,8),d(15,qe,2,0,"th",9)(16,Fe,2,1,"td",10),C(),g(17,11),d(18,Ne,2,0,"th",9)(19,Ve,2,1,"td",10),C(),g(20,12),d(21,ke,2,0,"th",9)(22,Oe,2,1,"td",10),C(),g(23,13),d(24,Pe,2,0,"th",9)(25,je,2,1,"td",10),C(),g(26,14),d(27,Ae,2,0,"th",9)(28,He,2,1,"td",10),C(),g(29,15),d(30,Qe,2,0,"th",16)(31,Ge,7,0,"td",17),C(),d(32,$e,1,0,"tr",18)(33,Be,1,0,"tr",19)(34,Le,3,1,"tr",20),i(),c(35,"mat-paginator",21),i()()}o&2&&(a(13),p("dataSource",r.dataSource),a(19),p("matHeaderRowDef",r.displayedColumns),a(),p("matRowDefColumns",r.displayedColumns),a(2),p("pageSizeOptions",j(4,Re)))},dependencies:[E,R,y,w,Ce,q,me,se,de,ae,ue,pe,ce,fe,_e,ge,ne,ie,V,Y,X,W],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}"]})};export{Me as TellerComponent};
