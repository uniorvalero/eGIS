import{a as at}from"./chunk-F3F2QQD2.js";import"./chunk-F5X5MWHG.js";import{a as et,b as it,c as U,e as nt}from"./chunk-2IGJZFV7.js";import{c as F}from"./chunk-KGOMAVQY.js";import{a as S,b as $,c as j,e as q,f as A,h as B,i as Y,k as G,l as J,n as K,o as W,p as X,q as Z}from"./chunk-NFABPVPM.js";import{a as tt}from"./chunk-VKATFPCI.js";import"./chunk-3KDABX7K.js";import"./chunk-RC2IBETA.js";import"./chunk-SYAC655V.js";import"./chunk-ECBSDO4K.js";import{a as Q,b as H}from"./chunk-DQWGBFJK.js";import"./chunk-MS4AQ6UA.js";import"./chunk-LB6LRJVS.js";import"./chunk-YBNMVR6Q.js";import{a as E,b as L,c as k}from"./chunk-AWMIQM5V.js";import{c as P}from"./chunk-FE5V2QVG.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import"./chunk-SGYCFQGT.js";import"./chunk-HSUA2CKH.js";import"./chunk-TMATL23G.js";import{ha as R,oa as V,ta as z,ua as N}from"./chunk-FPYKYBTQ.js";import{Db as a,Eb as o,Fb as w,Gb as f,Hb as g,Jb as y,Lb as _,Mb as v,Qb as C,Rb as b,Sb as h,Vb as T,Wb as r,Ya as m,Yb as x,bb as M,db as D,dc as O,ib as I,ka as p,la as d,nb as s,ub as u}from"./chunk-NKHI3LCY.js";var lt=["dynamicComponentContainer"],mt=()=>[5,10,25,100];function st(t,e){t&1&&(a(0,"th",20),r(1," Id "),o())}function ct(t,e){if(t&1&&(a(0,"td",21),r(1),o()),t&2){let i=e.$implicit;m(),x(" ",i.id," ")}}function pt(t,e){t&1&&(a(0,"th",20),r(1," Country Name "),o())}function dt(t,e){if(t&1&&(a(0,"td",21),r(1),o()),t&2){let i=e.$implicit;m(),x(" ",i.countryName," ")}}function ut(t,e){t&1&&(a(0,"th",20),r(1," Province "),o())}function ft(t,e){if(t&1&&(a(0,"td",21),r(1),o()),t&2){let i=e.$implicit;m(),x(" ",i.provinceId," ")}}function gt(t,e){t&1&&(a(0,"th",22),r(1," Action "),o())}function _t(t,e){if(t&1){let i=y();a(0,"td",23)(1,"button",24),_("click",function(){let l=p(i).$implicit,c=v();return d(c.openDialog(l))}),a(2,"mat-icon"),r(3,"edit"),o()(),a(4,"button",25),_("click",function(){let l=p(i).$implicit,c=v();return d(c.deleteUser(l))}),a(5,"mat-icon"),r(6,"delete"),o()()()}}function Ct(t,e){t&1&&w(0,"tr",26)}function bt(t,e){t&1&&w(0,"tr",27)}function ht(t,e){if(t&1&&(a(0,"tr",28)(1,"td",29),r(2),o()()),t&2){v();let i=T(13);m(2),x('No data matching the filter "',i.value,'"')}}var ot=class t{constructor(e,i,n){this.router=e;this.userService=i;this.dialog=n}users=[];displayedColumns=["firstname","middlename","lastname","email","isVerified","actions"];dataSource;paginator;sort;table;container;ngOnInit(){this.loadUsers()}loadUsers(){this.userService.getUsers().subscribe(e=>{this.dataSource=new Z(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLocaleLowerCase()}openDialog(e){this.dialog.open(at,{data:e||{}}).afterClosed().subscribe(n=>{n&&(n.id?this.userService.updateUser(n).subscribe(()=>{this.loadUsers()}):this.userService.createUser(n).subscribe(()=>{this.loadUsers()}))})}deleteUser(e){confirm(`Delete user ${e.firstName} ${e.lastName}?`)&&this.userService.deleteUser(e.id).subscribe(()=>this.loadUsers())}static \u0275fac=function(i){return new(i||t)(M(P),M(tt),M(F))};static \u0275cmp=I({type:t,selectors:[["app-user-list"]],viewQuery:function(i,n){if(i&1&&(C(U,5),C(nt,5),C(S,5),C(lt,5,D)),i&2){let l;b(l=h())&&(n.paginator=l.first),b(l=h())&&(n.sort=l.first),b(l=h())&&(n.table=l.first),b(l=h())&&(n.container=l.first)}},decls:32,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",1,"load-batch-btn",3,"click"],[1,"full-width"],["matInput","","placeholder","Search user...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","countryName"],["matColumnDef","provinceId"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Edit Master Code",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete Master Code",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,n){if(i&1){let l=y();a(0,"div",1)(1,"div")(2,"h1",2),r(3,"Users"),o(),r(4," \xA0 "),a(5,"button",3),_("click",function(){return p(l),d(n.openDialog())}),r(6,"Add User"),o()(),r(7," \xA0 "),a(8,"div")(9,"mat-form-field",4)(10,"mat-label"),r(11,"Filter"),o(),a(12,"input",5,0),_("keyup",function(rt){return p(l),d(n.applyFilter(rt))}),o()()(),a(14,"div",6)(15,"table",7),f(16,8),s(17,st,2,0,"th",9)(18,ct,2,1,"td",10),g(),f(19,11),s(20,pt,2,0,"th",9)(21,dt,2,1,"td",10),g(),f(22,12),s(23,ut,2,0,"th",9)(24,ft,2,1,"td",10),g(),f(25,13),s(26,gt,2,0,"th",14)(27,_t,7,0,"td",15),g(),s(28,Ct,1,0,"tr",16)(29,bt,1,0,"tr",17)(30,ht,3,1,"tr",18),o(),w(31,"mat-paginator",19),o()()}i&2&&(m(15),u("dataSource",n.dataSource),m(13),u("matHeaderRowDef",n.displayedColumns),m(),u("matRowDefColumns",n.displayedColumns),m(2),u("pageSizeOptions",O(4,mt)))},dependencies:[N,z,V,R,X,S,j,Y,q,$,G,A,B,J,K,W,H,Q,U,k,L,E,it,et],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;border:1.5px solid #e0e0e0;border-radius:10px;padding:24px;background:transparent;box-shadow:none}.load-batch-btn[_ngcontent-%COMP%]{height:50px;min-width:120px;margin-left:8px;background:#4169e1!important;color:#fff!important;font-weight:600;font-size:16px;border-radius:8px;box-shadow:0 2px 8px #4169e126;transition:background .2s,box-shadow .2s,transform .1s;letter-spacing:.5px;border:none;display:flex;align-items:left;justify-content:center;padding:0 24px;margin-bottom:24px}.load-batch-btn[_ngcontent-%COMP%]:hover, .load-batch-btn[_ngcontent-%COMP%]:focus{background:#274bb5!important;box-shadow:0 4px 16px #4169e140;transform:translateY(-2px) scale(1.03)}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{background:transparent!important}.mat-elevation-z8[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-paginator-range-actions,   .mat-paginator-page-size,   .mat-paginator-page-size-label,   .mat-paginator-range-label,   .mat-paginator-navigation-previous,   .mat-paginator-navigation-next,   .mat-paginator-page-size-select,   .mat-paginator-page-size-select .mat-select-trigger,   .mat-paginator-page-size-select .mat-select-value,   .paginator-row,   div[style*=background],   .mat-mdc-paginator,   .mat-mdc-paginator-container,   .mat-mdc-paginator-range-actions{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-mdc-paginator,   .mat-mdc-paginator-container{background:transparent!important;box-shadow:none!important;border:none!important}"]})};export{ot as UserListComponent};
