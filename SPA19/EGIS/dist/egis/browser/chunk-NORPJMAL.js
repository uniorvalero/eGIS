import{a as xt}from"./chunk-D54YAZEG.js";import"./chunk-F5X5MWHG.js";import{a as Ct,b as bt,c as R,e as ht}from"./chunk-2IGJZFV7.js";import{a as tt,b as et,c as it,e as nt,h as ot}from"./chunk-KGOMAVQY.js";import{a as O,b as at,c as rt,e as pt,f as mt,h as lt,i as ct,k as dt,l as st,n as ft,o as ut,p as gt,q as _t}from"./chunk-NFABPVPM.js";import"./chunk-ECBSDO4K.js";import{a as W,b as X}from"./chunk-DQWGBFJK.js";import"./chunk-MS4AQ6UA.js";import{b as Z}from"./chunk-LB6LRJVS.js";import"./chunk-YBNMVR6Q.js";import{a as J,b as S,c as y}from"./chunk-AWMIQM5V.js";import{c as z}from"./chunk-FE5V2QVG.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import"./chunk-SGYCFQGT.js";import"./chunk-HSUA2CKH.js";import"./chunk-TMATL23G.js";import{b as Q,g as H,h as B,ha as D,m as G,oa as I,p as $,pa as K,q as L,ta as E,ua as T,v as q,x as Y}from"./chunk-FPYKYBTQ.js";import{Db as a,Eb as o,Fb as d,Gb as g,Hb as _,Jb as P,Lb as s,Mb as A,Qb as x,Rb as M,Rc as j,Sb as v,Vb as F,Wb as r,Xb as V,Ya as m,Yb as f,bb as l,db as U,dc as N,ib as w,ka as b,la as h,nb as u,ub as c}from"./chunk-NKHI3LCY.js";var k=class t{constructor(e,i,n){this.fb=e;this.dialogRef=i;this.data=n;this.isEditMode=!!n.id,this.form=this.fb.group({id:[n.id||null],name:[n.name||"",[]],description:[n.description||"",[]],version:[""]})}form;isEditMode;onSubmit(){this.form.valid&&(console.log("Form submitted:",this.form.value),this.dialogRef.close(this.form.value))}onCancel(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||t)(l(q),l(tt),l(et))};static \u0275cmp=w({type:t,selectors:[["app-user-app-dialog"]],decls:22,vars:4,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"full-width"],["matInput","","formControlName","name"],["matInput","","formControlName","description"],["matInput","","formControlName","version"],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"h2",1),r(2),o(),a(3,"form",2),s("ngSubmit",function(){return n.onSubmit()}),a(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),r(7,"App Name"),o(),d(8,"input",5),o(),a(9,"mat-form-field",4)(10,"mat-label"),r(11,"Description"),o(),d(12,"input",6),o(),a(13,"mat-form-field",4)(14,"mat-label"),r(15,"Version"),o(),d(16,"input",7),o()(),a(17,"div",8)(18,"button",9),s("click",function(){return n.onCancel()}),r(19,"Cancel"),o(),a(20,"button",10),r(21),o()()()()),i&2&&(m(2),f("",n.isEditMode?"Edit":"Add"," App"),m(),c("formGroup",n.form),m(17),c("disabled",!n.form.valid),m(),V(n.isEditMode?"Update":"Create"))},dependencies:[j,T,E,I,D,K,y,S,ot,nt,Z,Y,G,Q,H,B,$,L],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px;background:transparent!important;box-shadow:none!important}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.dialog-actions[_ngcontent-%COMP%]{margin-top:24px;display:flex;justify-content:flex-end;gap:12px}  .mat-dialog-container{background:#ffffff80!important;box-shadow:0 8px 32px #0000002e;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}  .mat-form-field-appearance-fill .mat-form-field-flex,   .mat-form-field-appearance-fill .mat-form-field-infix,   .mat-form-field-appearance-fill .mat-form-field-outline,   .mat-form-field-wrapper,   .mat-form-field-flex,   .mat-form-field-infix,   .mat-input-element,   .mat-select-trigger,   .mat-select-value,   .mat-select,   input.mat-input-element,   textarea.mat-input-element{background:transparent!important;box-shadow:none!important}"]})};var It=["dynamicComponentContainer"],Et=()=>[5,10,25,100];function Tt(t,e){t&1&&(a(0,"th",21),r(1," Id "),o())}function Ot(t,e){if(t&1&&(a(0,"td",22),r(1),o()),t&2){let i=e.$implicit;m(),f(" ",i.id," ")}}function kt(t,e){t&1&&(a(0,"th",21),r(1," App Name "),o())}function Pt(t,e){if(t&1&&(a(0,"td",22),r(1),o()),t&2){let i=e.$implicit;m(),f(" ",i.name," ")}}function Rt(t,e){t&1&&(a(0,"th",21),r(1," Description "),o())}function Ut(t,e){if(t&1&&(a(0,"td",22),r(1),o()),t&2){let i=e.$implicit;m(),f(" ",i.description," ")}}function Ft(t,e){t&1&&(a(0,"th",21),r(1," Version "),o())}function Vt(t,e){if(t&1&&(a(0,"td",22),r(1),o()),t&2){let i=e.$implicit;m(),f(" ",i.version," ")}}function Nt(t,e){t&1&&(a(0,"th",23),r(1," Action "),o())}function jt(t,e){if(t&1){let i=P();a(0,"td",24)(1,"button",25),s("click",function(){let p=b(i).$implicit,C=A();return h(C.openDialog(p))}),a(2,"mat-icon"),r(3,"edit"),o()(),a(4,"button",26),s("click",function(){let p=b(i).$implicit,C=A();return h(C.deleteApp(p))}),a(5,"mat-icon"),r(6,"delete"),o()()()}}function zt(t,e){t&1&&d(0,"tr",27)}function Qt(t,e){t&1&&d(0,"tr",28)}function Ht(t,e){if(t&1&&(a(0,"tr",29)(1,"td",30),r(2),o()()),t&2){A();let i=F(13);m(2),f('No data matching the filter "',i.value,'"')}}var Mt=class t{constructor(e,i,n){this.router=e;this.appService=i;this.dialog=n}apps=[];displayedColumns=["name","description","version","actions"];dataSource;paginator;sort;table;container;ngOnInit(){this.loadApps()}loadApps(){this.appService.getApps().subscribe(e=>{this.dataSource=new _t(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLocaleLowerCase()}openDialog(e){this.dialog.open(k,{data:e||{}}).afterClosed().subscribe(n=>{n&&(n.id?this.appService.updateApp(n).subscribe(()=>{this.loadApps()}):this.appService.createApp(n).subscribe(()=>{this.loadApps()}))})}deleteApp(e){confirm(`Delete app ${e.name}?`)&&this.appService.deleteApp(e.id).subscribe(()=>this.loadApps())}static \u0275fac=function(i){return new(i||t)(l(z),l(xt),l(it))};static \u0275cmp=w({type:t,selectors:[["app-user-app"]],viewQuery:function(i,n){if(i&1&&(x(R,5),x(ht,5),x(O,5),x(It,5,U)),i&2){let p;M(p=v())&&(n.paginator=p.first),M(p=v())&&(n.sort=p.first),M(p=v())&&(n.table=p.first),M(p=v())&&(n.container=p.first)}},decls:35,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",1,"load-batch-btn",3,"click"],[1,"full-width"],["matInput","","placeholder","Search app...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","version"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of apps",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Edit App",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete App",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,n){if(i&1){let p=P();a(0,"div",1)(1,"div")(2,"h1",2),r(3,"Apps"),o(),r(4," \xA0 "),a(5,"button",3),s("click",function(){return b(p),h(n.openDialog())}),r(6,"Add App"),o()(),r(7," \xA0 "),a(8,"div")(9,"mat-form-field",4)(10,"mat-label"),r(11,"Filter"),o(),a(12,"input",5,0),s("keyup",function(vt){return b(p),h(n.applyFilter(vt))}),o()()(),a(14,"div",6)(15,"table",7),g(16,8),u(17,Tt,2,0,"th",9)(18,Ot,2,1,"td",10),_(),g(19,11),u(20,kt,2,0,"th",9)(21,Pt,2,1,"td",10),_(),g(22,12),u(23,Rt,2,0,"th",9)(24,Ut,2,1,"td",10),_(),g(25,13),u(26,Ft,2,0,"th",9)(27,Vt,2,1,"td",10),_(),g(28,14),u(29,Nt,2,0,"th",15)(30,jt,7,0,"td",16),_(),u(31,zt,1,0,"tr",17)(32,Qt,1,0,"tr",18)(33,Ht,3,1,"tr",19),o(),d(34,"mat-paginator",20),o()()}i&2&&(m(15),c("dataSource",n.dataSource),m(16),c("matHeaderRowDef",n.displayedColumns),m(),c("matRowDefColumns",n.displayedColumns),m(2),c("pageSizeOptions",N(4,Et)))},dependencies:[T,E,I,D,gt,O,rt,ct,pt,at,dt,mt,lt,st,ft,ut,X,W,R,y,S,J,bt,Ct],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;border:1.5px solid #e0e0e0;border-radius:10px;padding:24px;background:transparent;box-shadow:none}.load-batch-btn[_ngcontent-%COMP%]{height:50px;min-width:120px;margin-left:8px;background:#4169e1!important;color:#fff!important;font-weight:600;font-size:16px;border-radius:8px;box-shadow:0 2px 8px #4169e126;transition:background .2s,box-shadow .2s,transform .1s;letter-spacing:.5px;border:none;display:flex;align-items:left;justify-content:center;padding:0 24px;margin-bottom:24px}.load-batch-btn[_ngcontent-%COMP%]:hover, .load-batch-btn[_ngcontent-%COMP%]:focus{background:#274bb5!important;box-shadow:0 4px 16px #4169e140;transform:translateY(-2px) scale(1.03)}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{background:transparent!important}.mat-elevation-z8[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-paginator-range-actions,   .mat-paginator-page-size,   .mat-paginator-page-size-label,   .mat-paginator-range-label,   .mat-paginator-navigation-previous,   .mat-paginator-navigation-next,   .mat-paginator-page-size-select,   .mat-paginator-page-size-select .mat-select-trigger,   .mat-paginator-page-size-select .mat-select-value,   .paginator-row,   div[style*=background],   .mat-mdc-paginator,   .mat-mdc-paginator-container,   .mat-mdc-paginator-range-actions{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-mdc-paginator,   .mat-mdc-paginator-container{background:transparent!important;box-shadow:none!important;border:none!important}"]})};export{Mt as UserAppComponent};
