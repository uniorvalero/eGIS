import{b as He,c as Z,d as Qe,e as Be,f as ee,g as Le,h as Ye,i as ze,j as Ue,k as te}from"./chunk-OFLSKE7M.js";import{a as W,b as X,c as $e}from"./chunk-JZMA4RSN.js";import{b as U}from"./chunk-XND27LNV.js";import"./chunk-F5X5MWHG.js";import"./chunk-MS4AQ6UA.js";import{a as Ve,b as Pe,c as re,e as Oe,f as Ae,g as je,h as Ge}from"./chunk-T6XAED5K.js";import{I as K,e as J,f as De,g as Me,i as ve,j as xe,l as Ee,m as ye,o as we,p as Te,r as ke,s as Re,t as Ne,u as qe}from"./chunk-IFJ4ZPCK.js";import"./chunk-3RK6DDJD.js";import{$ as M,aa as L,b as P,ba as he,ca as Y,d as f,fa as v,g as O,h as A,ja as z,ka as x,l as j,la as E,n as $,o as G,oa as Fe,p as H,q as Q,qa as Se,ra as be,s as B}from"./chunk-6Q2Z7QGE.js";import{a as Ie}from"./chunk-ZJWXBZTA.js";import{n as q,s as V}from"./chunk-AXBZNO4R.js";import{$ as fe,Bb as n,Cb as i,Db as u,Eb as I,Fb as h,Hb as S,Lb as C,Mb as R,Qb as y,Rb as w,Sb as T,Va as m,Vb as b,W as de,Wb as o,Xb as ge,Yb as d,_a as F,ab as _e,cc as N,dc as Ce,fb as D,ia as _,ja as g,lb as c,sb as s}from"./chunk-KFEO7OMD.js";function nt(e,t){e&1&&(n(0,"mat-error"),o(1,"BookNumber is required"),i())}function ot(e,t){e&1&&(n(0,"mat-error"),o(1,"Quantity is required"),i())}function rt(e,t){e&1&&(n(0,"mat-error"),o(1,"Start Receipt is required"),i())}function at(e,t){e&1&&(n(0,"mat-error"),o(1,"End Receipt is required"),i())}function mt(e,t){e&1&&(n(0,"mat-error"),o(1,"Char is required"),i())}function lt(e,t){e&1&&(n(0,"mat-error"),o(1,"Teller Code is required"),i())}function st(e,t){e&1&&(n(0,"mat-error"),o(1,"Teller Name is required"),i())}var ie=class e{constructor(t,r,a){this.fb=t;this.dialogRef=r;this.data=a;this.isEditMode=!!a.id,this.form=this.fb.group({id:[a.id],bookNumber:[a.bookNumber||"",[f.required]],quantity:[a.quantity||"",[f.required]],startReceipt:[a.startReceipt||"",[f.required]],endReceipt:[a.endReceipt||"",[f.required]],char:[a.char||"",[f.required]],tellerCode:[a.tellerCode||"",[f.required]],tellerName:[a.tellerName||"",[f.required]],finalDate:[a.finalDate||"",[f.required]],dateAssigned:[a.dateAssigned||"",[f.required]]})}form;isEditMode;onSubmit(){if(this.form.valid){console.log(this.form.value);let t=this.form.get("finalDate")?.value,r=this.form.get("dateAssigned")?.value;t&&this.form.patchValue({finalDate:t.toISOString().split("T")[0]}),r&&this.form.patchValue({dateAssigned:r.toISOString().split("T")[0]}),this.dialogRef.close(this.form.value)}}onCancel(){this.dialogRef.close()}static \u0275fac=function(r){return new(r||e)(F(Q),F(W),F(X))};static \u0275cmp=D({type:e,selectors:[["app-form-issuance-dialog"]],features:[N([Z()])],decls:58,vars:15,consts:[["finalPicker",""],["assignedPicker",""],[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],["matInput","","formControlName","bookNumber","required",""],[4,"ngIf"],["matInput","","formControlName","quantity","required",""],["matInput","","formControlName","startReceipt","required",""],["matInput","","formControlName","endReceipt","required",""],["matInput","","formControlName","char","required",""],["matInput","","formControlName","tellerCode","required",""],["matInput","","formControlName","tellerName","required",""],["matInput","","formControlName","finalDate",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","dateAssigned",3,"matDatepicker"],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(r,a){if(r&1){let l=S();n(0,"div",2)(1,"h2",3),o(2),i(),n(3,"form",4),C("ngSubmit",function(){return _(l),g(a.onSubmit())}),n(4,"mat-form-field",5)(5,"mat-label"),o(6," BookNumber"),i(),u(7,"input",6),c(8,nt,2,0,"mat-error",7),i(),n(9,"mat-form-field",5)(10,"mat-label"),o(11," Quantity"),i(),u(12,"input",8),c(13,ot,2,0,"mat-error",7),i(),n(14,"mat-form-field",5)(15,"mat-label"),o(16," Start Receipt"),i(),u(17,"input",9),c(18,rt,2,0,"mat-error",7),i(),n(19,"mat-form-field",5)(20,"mat-label"),o(21," End Receipt"),i(),u(22,"input",10),c(23,at,2,0,"mat-error",7),i(),n(24,"mat-form-field",5)(25,"mat-label"),o(26," Char"),i(),u(27,"input",11),c(28,mt,2,0,"mat-error",7),i(),n(29,"mat-form-field",5)(30,"mat-label"),o(31," Teller Code"),i(),u(32,"input",12),c(33,lt,2,0,"mat-error",7),i(),n(34,"mat-form-field",5)(35,"mat-label"),o(36," Teller Name"),i(),u(37,"input",13),c(38,st,2,0,"mat-error",7),i(),n(39,"mat-form-field",5)(40,"mat-label"),o(41,"Final Date"),i(),u(42,"input",14)(43,"mat-datepicker-toggle",15)(44,"mat-datepicker",null,0),i(),n(46,"mat-form-field",5)(47,"mat-label"),o(48,"Date Assigned"),i(),u(49,"input",16)(50,"mat-datepicker-toggle",15)(51,"mat-datepicker",null,1),i(),n(53,"div",17)(54,"button",18),C("click",function(){return _(l),g(a.onCancel())}),o(55,"Cancel"),i(),n(56,"button",19),o(57),i()()()()}if(r&2){let l,p,k,me,le,se,ce,ue=b(45),pe=b(52);m(2),d("",a.isEditMode?"Edit":"Add"," Form Issuance"),m(),s("formGroup",a.form),m(5),s("ngIf",(l=a.form.get("bookNumber"))==null?null:l.hasError("required")),m(5),s("ngIf",(p=a.form.get("quantity"))==null?null:p.hasError("required")),m(5),s("ngIf",(k=a.form.get("startReceipt"))==null?null:k.hasError("required")),m(5),s("ngIf",(me=a.form.get("endReceipt"))==null?null:me.hasError("required")),m(5),s("ngIf",(le=a.form.get("char"))==null?null:le.hasError("required")),m(5),s("ngIf",(se=a.form.get("tellerCode"))==null?null:se.hasError("required")),m(5),s("ngIf",(ce=a.form.get("tellerName"))==null?null:ce.hasError("required")),m(4),s("matDatepicker",ue),m(),s("for",ue),m(6),s("matDatepicker",pe),m(),s("for",pe),m(6),s("disabled",!a.form.valid),m(),ge(a.isEditMode?"Update":"Create")}},dependencies:[B,j,P,O,A,H,$,G,z,v,M,L,Y,V,q,E,x,U,K,te,Qe,Be,ee,He],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;grid-column:span 2}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}.dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 600px){.form-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],changeDetection:0})};function ct(e,t){e&1&&(n(0,"mat-error"),o(1,"Payor is required"),i())}var ne=class e{constructor(t,r,a){this.fb=t;this.dialogRef=r;this.data=a;this.form=this.fb.group({id:[a.id],dateFrom:[null,f.required],dateTo:[null,f.required],formCode:["",f.required]})}form;onSubmit(){if(this.form.valid){let t=this.form.value;this.dialogRef.close(t)}}onCancel(){this.dialogRef.close()}static \u0275fac=function(r){return new(r||e)(F(Q),F(W),F(X))};static \u0275cmp=D({type:e,selectors:[["app-form-issuance-setup-dialog"]],features:[N([Z()])],decls:23,vars:4,consts:[["picker",""],[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],[3,"rangePicker"],["matStartDate","","placeholder","Start date"],["matEndDate","","placeholder","End date"],["matIconSuffix","",3,"for"],["matInput","","formControlName","subcode","required",""],[4,"ngIf"],[1,"dialog-actions"],["mat-button","","type","button",3,"click"]],template:function(r,a){if(r&1){let l=S();n(0,"div",1)(1,"h2",2),o(2," Form Issuance Setup"),i(),n(3,"form",3),C("ngSubmit",function(){return _(l),g(a.onSubmit())}),n(4,"mat-form-field",4)(5,"mat-label"),o(6,"Enter a date range"),i(),n(7,"mat-date-range-input",5),u(8,"input",6)(9,"input",7),i(),n(10,"mat-hint"),o(11,"MM/DD/YYYY \u2013 MM/DD/YYYY"),i(),u(12,"mat-datepicker-toggle",8)(13,"mat-date-range-picker",null,0),i(),n(15,"mat-form-field",4)(16,"mat-label"),o(17,"Form"),i(),u(18,"input",9),c(19,ct,2,0,"mat-error",10),i(),n(20,"div",11)(21,"button",12),C("click",function(){return _(l),g(a.onCancel())}),o(22,"Cancel"),i()()()()}if(r&2){let l,p=b(14);m(3),s("formGroup",a.form),m(4),s("rangePicker",p),m(5),s("for",p),m(7),s("ngIf",(l=a.form.get("subcode"))==null?null:l.hasError("required"))}},dependencies:[z,v,M,he,L,Y,E,x,te,ee,Le,Ye,ze,Ue,B,j,P,O,A,H,$,G,V,q,U,K],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}"],changeDetection:0})};var oe=class e{constructor(t){this.http=t}apibaseurl=Ge.apibaseURL;getFormIssuances(){return this.http.get(this.apibaseurl+"/FormIssuanceTransaction")}updateFormIssuances(t){return this.http.put(`${this.apibaseurl+"/FormIssuanceTransaction"}/${t.id}`,t)}createFormIssuance(t){return console.log(t,"calling createFormIssuance"),t.id=0,this.http.post(this.apibaseurl+"/FormIssuanceTransaction/Create",t)}deleteFormIssuance(t){return this.http.delete(`${this.apibaseurl+"/FormIssuanceTransaction"}/${t}`)}static \u0275fac=function(r){return new(r||e)(fe(Ie))};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})};var pt=["dynamicComponentContainer"],dt=()=>[5,10,25,100];function ft(e,t){e&1&&(n(0,"th",27),o(1," ID "),i())}function _t(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.id," ")}}function gt(e,t){e&1&&(n(0,"th",27),o(1," Book Number "),i())}function Ct(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.bookNumber," ")}}function It(e,t){e&1&&(n(0,"th",27),o(1," Quantity"),i())}function ht(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.quantity," ")}}function Ft(e,t){e&1&&(n(0,"th",27),o(1," Start Receipt"),i())}function St(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.startReceipt," ")}}function bt(e,t){e&1&&(n(0,"th",27),o(1," End Receipt"),i())}function Dt(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.endReceipt," ")}}function Mt(e,t){e&1&&(n(0,"th",27),o(1," Char "),i())}function vt(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.char," ")}}function xt(e,t){e&1&&(n(0,"th",27),o(1," Teller Code "),i())}function Et(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.tellerCode," ")}}function yt(e,t){e&1&&(n(0,"th",27),o(1," Teller Name "),i())}function wt(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.tellerName," ")}}function Tt(e,t){e&1&&(n(0,"th",27),o(1," Final Date "),i())}function kt(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.finalDate," ")}}function Rt(e,t){e&1&&(n(0,"th",27),o(1," Date Assigned"),i())}function Nt(e,t){if(e&1&&(n(0,"td",28),o(1),i()),e&2){let r=t.$implicit;m(),d(" ",r.dateAssigned," ")}}function qt(e,t){e&1&&(n(0,"th",29),o(1," Action "),i())}function Vt(e,t){if(e&1){let r=S();n(0,"td",30)(1,"button",31),C("click",function(){let l=_(r).$implicit,p=R();return g(p.openDialog(l))}),n(2,"mat-icon"),o(3,"edit"),i()(),n(4,"button",32),C("click",function(){let l=_(r).$implicit,p=R();return g(p.deleteFormIssuance(l.id))}),n(5,"mat-icon"),o(6,"delete"),i()()()}}function Pt(e,t){e&1&&u(0,"tr",33)}function Ot(e,t){e&1&&u(0,"tr",34)}function At(e,t){if(e&1&&(n(0,"tr",35)(1,"td",36),o(2),i()()),e&2){R();let r=b(14);m(2),d('No data matching the filter "',r.value,'"')}}var Ze=class e{constructor(t,r){this.formIssuanceService=t;this.dialog=r}displayedColumns=["bookNumber","quantity","startReceipt","endReceipt","char","tellerCode","tellerName","actions"];dataSource;paginator;sort;table;container;ngOnInit(){this.loadFormIssuance()}loadFormIssuance(){this.formIssuanceService.getFormIssuances().subscribe(t=>{this.dataSource=new qe(t),console.log(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let r=t.target.value;this.dataSource.filter=r.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(ie,{data:t||{}}).afterClosed().subscribe(a=>{a&&(a.id?this.formIssuanceService.updateFormIssuances(a).subscribe(()=>{this.loadFormIssuance()}):this.formIssuanceService.createFormIssuance(a).subscribe(()=>{this.loadFormIssuance()}))})}openSetupDialog(t){let r=this.dialog.open(ne,{data:t||{}})}deleteFormIssuance(t){confirm("Are you sure you want to delete this form issuance?")&&this.formIssuanceService.deleteFormIssuance(t).subscribe(()=>{this.loadFormIssuance()})}static \u0275fac=function(r){return new(r||e)(F(oe),F($e))};static \u0275cmp=D({type:e,selectors:[["app-form-issuance"]],viewQuery:function(r,a){if(r&1&&(y(re,5),y(Oe,5),y(J,5),y(pt,5,_e)),r&2){let l;w(l=T())&&(a.paginator=l.first),w(l=T())&&(a.sort=l.first),w(l=T())&&(a.table=l.first),w(l=T())&&(a.container=l.first)}},decls:54,vars:5,consts:[["input",""],[1,"table-container"],[1,"button-row"],["mat-raised-button","","color","primary",3,"click"],[1,"full-width"],["matInput","","placeholder","Search form issuance...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","bookNumber"],["matColumnDef","quantity"],["matColumnDef","startReceipt"],["matColumnDef","endReceipt"],["matColumnDef","char"],["matColumnDef","tellerCode"],["matColumnDef","tellerName"],["matColumnDef","finalDate"],["matColumnDef","dateAssigned"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Edit Form Issuance",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete Form Issuance",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(r,a){if(r&1){let l=S();n(0,"div",1)(1,"div",2)(2,"div")(3,"button",3),C("click",function(){return _(l),g(a.openDialog())}),o(4,"Add Form Inssuance"),i(),n(5,"button",3),C("click",function(){return _(l),g(a.openSetupDialog())}),o(6,"Setup"),i(),n(7,"button",3),C("click",function(){return _(l),g(a.openDialog())}),o(8,"Utility"),i()()(),n(9,"div")(10,"mat-form-field",4)(11,"mat-label"),o(12,"Filter"),i(),n(13,"input",5,0),C("keyup",function(k){return _(l),g(a.applyFilter(k))}),i()()(),n(15,"div",6)(16,"table",7),I(17,8),c(18,ft,2,0,"th",9)(19,_t,2,1,"td",10),h(),I(20,11),c(21,gt,2,0,"th",9)(22,Ct,2,1,"td",10),h(),I(23,12),c(24,It,2,0,"th",9)(25,ht,2,1,"td",10),h(),I(26,13),c(27,Ft,2,0,"th",9)(28,St,2,1,"td",10),h(),I(29,14),c(30,bt,2,0,"th",9)(31,Dt,2,1,"td",10),h(),I(32,15),c(33,Mt,2,0,"th",9)(34,vt,2,1,"td",10),h(),I(35,16),c(36,xt,2,0,"th",9)(37,Et,2,1,"td",10),h(),I(38,17),c(39,yt,2,0,"th",9)(40,wt,2,1,"td",10),h(),I(41,18),c(42,Tt,2,0,"th",9)(43,kt,2,1,"td",10),h(),I(44,19),c(45,Rt,2,0,"th",9)(46,Nt,2,1,"td",10),h(),I(47,20),c(48,qt,2,0,"th",21)(49,Vt,7,0,"td",22),h(),c(50,Pt,1,0,"tr",23)(51,Ot,1,0,"tr",24)(52,At,3,1,"tr",25),i(),u(53,"mat-paginator",26),i()()}r&2&&(m(16),s("dataSource",a.dataSource),m(34),s("matHeaderRowDef",a.displayedColumns),m(),s("matRowDefColumns",a.displayedColumns),m(2),s("pageSizeOptions",Ce(4,dt)))},dependencies:[v,E,x,M,Ne,J,Me,ye,ve,De,we,xe,Ee,Te,ke,Re,je,Ae,re,be,Se,Fe,Pe,Ve],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}.button-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.button-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}"]})};export{Ze as FormIssuanceComponent};
