import{a as R,b as D}from"./chunk-AYQMUPGQ.js";import{a as G}from"./chunk-RDUXWVKY.js";import{b as O,c as F}from"./chunk-AWMIQM5V.js";import{c as h,d as x,f as C}from"./chunk-FE5V2QVG.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import{a as B,b as L,c as I}from"./chunk-BUEFDGFJ.js";import"./chunk-SGYCFQGT.js";import"./chunk-HSUA2CKH.js";import"./chunk-TMATL23G.js";import{b as M,d as s,g as v,h as w,ha as N,m as b,oa as j,p as y,pa as E,q as k,ta as z,ua as U,v as P,w as _,x as S}from"./chunk-FPYKYBTQ.js";import{Db as e,Eb as o,Fb as m,Lb as u,Rc as f,Wb as r,Ya as c,bb as l,ib as g,ub as p}from"./chunk-NKHI3LCY.js";var V=class d{constructor(n,t,a,i){this.fb=n;this.router=t;this.authService=a;this.snackBar=i;this.loginForm=this.fb.group({email:["",s.required],password:["",s.required]})}loginForm;errorMessage="";email="";password="";isValidCredential(n,t){return[{email:"mayor1@email.com",password:"demo"},{email:"admin@email.com",password:"admin"}].some(i=>i.email===n&&i.password===t)}goToSignup(){this.router.navigate(["/signup"])}onLogout(){this.authService.clearUser(),this.router.navigate(["/login"]).then(n=>{n||this.snackBar.open("Logout navigation failed.","Close",{duration:3e3})})}onLogin(){if(!this.loginForm.valid){this.snackBar.open("Please enter valid credentials.","Close",{duration:3e3});return}let{email:n,password:t}=this.loginForm.value;if(console.log("Login attempt:",n,t),!this.isValidCredential(n,t)){this.snackBar.open("Invalid email or password.","Close",{duration:3e3});return}let a={loginId:1};this.snackBar.open("Login successful!","Close",{duration:3e3}),t==="demo"?this.router.navigate(["/mdashboard"]).then(i=>{i||this.snackBar.open("Navigation failed. Check your routes.","Close",{duration:3e3})}):t==="admin"?this.router.navigate(["/mainlayout"]).then(i=>{i||this.snackBar.open("Navigation failed. Check your routes.","Close",{duration:3e3})}):this.snackBar.open("Login failed: Unknown role.","Close",{duration:3e3})}static \u0275fac=function(t){return new(t||d)(l(P),l(h),l(G),l(R))};static \u0275cmp=g({type:d,selectors:[["app-user-login"]],decls:28,vars:1,consts:[[1,"login-container"],[1,"login-theme"],[1,"login-form"],[3,"ngSubmit","formGroup"],[1,"logo-container"],["src","assets/images/sanpedro.png","alt","Logo",1,"login-logo"],[1,"form-title","centered-title"],["appearance","outline",1,"full-width","large-input"],["matInput","","formControlName","email","placeholder","Email","type","email"],[1,"forgot-password-row"],["routerLink","forgot-password",1,"forgot-link"],["matInput","","formControlName","password","placeholder","Password","type","password"],["mat-raised-button","","color","primary","type","submit",1,"full-width","large-btn"],[1,"create-account-link"],["routerLink","/signup"]],template:function(t,a){t&1&&(e(0,"div",0),m(1,"div",1),e(2,"div",2)(3,"form",3),u("ngSubmit",function(){return a.onLogin()}),e(4,"mat-card")(5,"mat-card-content")(6,"div",4),m(7,"img",5),o(),e(8,"div",6),r(9,"Sign-in to your account."),o(),e(10,"mat-form-field",7)(11,"mat-label"),r(12,"User ID"),o(),m(13,"input",8),o(),e(14,"div",9)(15,"a",10),r(16,"Forgot Password?"),o()(),e(17,"mat-form-field",7)(18,"mat-label"),r(19,"Password"),o(),m(20,"input",11),o(),e(21,"button",12),r(22,"Sign In"),o(),e(23,"div",13)(24,"span"),r(25,"No account yet?"),o(),e(26,"a",14),r(27,"Create now"),o()()()()()()()),t&2&&(c(3),p("formGroup",a.loginForm))},dependencies:[_,b,M,v,w,f,U,z,j,N,F,O,I,B,L,E,D,C,x,S,y,k],styles:[".login-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:#f5f6fa}.login-theme[_ngcontent-%COMP%]{position:relative;flex:1;background:url(/assets/images/sanpedro-theme.png) center center no-repeat;background-size:cover;background-color:#f5f6fa;color:#222;display:flex;flex-direction:column;justify-content:center;align-items:flex-end;padding:48px 32px 48px 0;overflow:hidden}.theme-logo-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:0;width:100%;height:100%;opacity:.08;pointer-events:none;display:flex;justify-content:center;align-items:center}.theme-logo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;opacity:1;filter:grayscale(100%)}.theme-title[_ngcontent-%COMP%], .theme-desc[_ngcontent-%COMP%]{position:relative;z-index:1}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:18px}.login-logo[_ngcontent-%COMP%]{width:90px;height:auto;margin-bottom:8px}.theme-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:16px;text-align:right}.theme-desc[_ngcontent-%COMP%]{font-size:1.2rem;text-align:right;max-width:320px}.login-form[_ngcontent-%COMP%]{flex:0 0 520px;display:flex;align-items:center;justify-content:center;padding:48px 0 48px 32px;min-width:400px}mat-card[_ngcontent-%COMP%]{width:100%;max-width:520px;box-shadow:0 4px 24px #2803f714}.full-width[_ngcontent-%COMP%]{width:100%;min-width:320px;max-width:480px;display:block}.large-input[_ngcontent-%COMP%]{margin-bottom:18px}mat-form-field.large-input[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{height:48px;font-size:1.08rem;border-radius:8px}.large-btn[_ngcontent-%COMP%]{height:48px;font-size:1.08rem;border-radius:8px;background:#234a96;color:#fff;margin-bottom:18px;text-transform:none;font-weight:600}.centered-title[_ngcontent-%COMP%]{text-align:left;font-size:1.18rem;font-weight:500;margin-bottom:18px;margin-left:2px}.forgot-password-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:-10px;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{color:#1976d2;font-size:.98rem;text-decoration:none;font-weight:500}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.create-account-link[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:16px;font-size:1rem;gap:6px}.create-account-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none;font-weight:500}.create-account-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{V as UserLoginComponent};
