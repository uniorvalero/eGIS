import{a as it}from"./chunk-F3F2QQD2.js";import{a as at}from"./chunk-ZSWPU5YM.js";import"./chunk-F5X5MWHG.js";import{a as tt,b as et,c as y,e as nt}from"./chunk-2IGJZFV7.js";import{c as H}from"./chunk-KGOMAVQY.js";import{a as S,b as L,c as $,e as F,f as q,h as j,i as Y,k as G,l as J,n as K,o as W,p as X,q as Z}from"./chunk-NFABPVPM.js";import"./chunk-3KDABX7K.js";import"./chunk-RC2IBETA.js";import"./chunk-SYAC655V.js";import"./chunk-ECBSDO4K.js";import{a as Q,b as A}from"./chunk-DQWGBFJK.js";import"./chunk-MS4AQ6UA.js";import"./chunk-LB6LRJVS.js";import"./chunk-YBNMVR6Q.js";import{a as O,b as k,c as R}from"./chunk-AWMIQM5V.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import"./chunk-SGYCFQGT.js";import"./chunk-HSUA2CKH.js";import"./chunk-TMATL23G.js";import{ha as N,oa as V,ta as z,ua as B}from"./chunk-FPYKYBTQ.js";import{Db as i,Eb as a,Fb as w,Gb as p,Hb as c,Jb as U,Lb as C,Mb as M,Qb as h,Rb as b,Rc as I,Sb as x,Vb as E,Wb as o,Ya as m,Yb as d,bb as v,db as D,dc as P,ib as T,ka as f,la as _,nb as s,ub as g}from"./chunk-NKHI3LCY.js";var lt=["dynamicComponentContainer"],mt=()=>[5,10,25,100];function st(t,e){t&1&&(i(0,"th",24),o(1," User ID "),a())}function pt(t,e){if(t&1&&(i(0,"td",25),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.Id," ")}}function ct(t,e){t&1&&(i(0,"th",24),o(1," First Name "),a())}function dt(t,e){if(t&1&&(i(0,"td",25),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.firstName," ")}}function ut(t,e){t&1&&(i(0,"th",24),o(1," Last Name "),a())}function ft(t,e){if(t&1&&(i(0,"td",25),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.lastName," ")}}function _t(t,e){t&1&&(i(0,"th",24),o(1," Middle Name "),a())}function gt(t,e){if(t&1&&(i(0,"td",25),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.middleName," ")}}function Ct(t,e){t&1&&(i(0,"th",24),o(1," Email "),a())}function ht(t,e){if(t&1&&(i(0,"td",25),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.email," ")}}function bt(t,e){t&1&&(i(0,"th",24),o(1," Role "),a())}function xt(t,e){if(t&1&&(i(0,"td",25),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.role," ")}}function wt(t,e){t&1&&(i(0,"th",24),o(1," Status "),a())}function Mt(t,e){if(t&1&&(i(0,"td",25),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.status," ")}}function St(t,e){t&1&&(i(0,"th",26),o(1," Action "),a())}function vt(t,e){if(t&1){let n=U();i(0,"td",27)(1,"button",28),C("click",function(){let l=f(n).$implicit,u=M();return _(u.openDialog(l))}),i(2,"mat-icon"),o(3,"edit"),a()(),i(4,"button",29),C("click",function(){let l=f(n).$implicit,u=M();return _(u.deletePayment(l.id))}),i(5,"mat-icon"),o(6,"delete"),a()()()}}function Ut(t,e){t&1&&w(0,"tr",30)}function yt(t,e){t&1&&w(0,"tr",31)}function Dt(t,e){if(t&1&&(i(0,"tr",32)(1,"td",33),o(2),a()()),t&2){M();let n=E(13);m(2),d('No data matching the filter "',n.value,'"')}}var ot=class t{constructor(e,n){this.bpltasuserService=e;this.dialog=n}showSubCode=!1;selectedMasterCode;selectedDescription;displayedColumns=["firstName","lastName","middleName","email","role","status","actions"];dataSource;paginator;sort;table;container;ngOnInit(){this.loadUsers()}loadUsers(){this.bpltasuserService.getUsers().subscribe(e=>{this.dataSource=new Z(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e){let n=e.target.value;this.dataSource.filter=n.trim().toLocaleLowerCase()}openDialog(e){this.dialog.open(it,{data:e||{}}).afterClosed().subscribe(r=>{r&&(r.id?this.bpltasuserService.updateUser(r).subscribe(()=>{this.loadUsers()}):this.bpltasuserService.createUser(r).subscribe(()=>{this.loadUsers()}))})}deletePayment(e){confirm("Are you sure you want to delete this user?")&&this.bpltasuserService.deleteUser(e).subscribe(()=>{this.loadUsers()})}static \u0275fac=function(n){return new(n||t)(v(at),v(H))};static \u0275cmp=T({type:t,selectors:[["app-user"]],viewQuery:function(n,r){if(n&1&&(h(y,5),h(nt,5),h(S,5),h(lt,5,D)),n&2){let l;b(l=x())&&(r.paginator=l.first),b(l=x())&&(r.sort=l.first),b(l=x())&&(r.table=l.first),b(l=x())&&(r.container=l.first)}},decls:44,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",1,"load-batch-btn",3,"click"],[1,"full-width"],["matInput","","placeholder","Search user...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","middleName"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of user",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Edit User",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete User",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(n,r){if(n&1){let l=U();i(0,"div",1)(1,"div")(2,"h1",2),o(3,"Users"),a(),o(4," \xA0 "),i(5,"button",3),C("click",function(){return f(l),_(r.openDialog())}),o(6,"Add User"),a()(),o(7," \xA0 "),i(8,"div")(9,"mat-form-field",4)(10,"mat-label"),o(11,"Filter"),a(),i(12,"input",5,0),C("keyup",function(rt){return f(l),_(r.applyFilter(rt))}),a()()(),i(14,"div",6)(15,"table",7),p(16,8),s(17,st,2,0,"th",9)(18,pt,2,1,"td",10),c(),p(19,11),s(20,ct,2,0,"th",9)(21,dt,2,1,"td",10),c(),p(22,12),s(23,ut,2,0,"th",9)(24,ft,2,1,"td",10),c(),p(25,13),s(26,_t,2,0,"th",9)(27,gt,2,1,"td",10),c(),p(28,14),s(29,Ct,2,0,"th",9)(30,ht,2,1,"td",10),c(),p(31,15),s(32,bt,2,0,"th",9)(33,xt,2,1,"td",10),c(),p(34,16),s(35,wt,2,0,"th",9)(36,Mt,2,1,"td",10),c(),p(37,17),s(38,St,2,0,"th",18)(39,vt,7,0,"td",19),c(),s(40,Ut,1,0,"tr",20)(41,yt,1,0,"tr",21)(42,Dt,3,1,"tr",22),a(),w(43,"mat-paginator",23),a()()}n&2&&(m(15),g("dataSource",r.dataSource),m(25),g("matHeaderRowDef",r.displayedColumns),m(),g("matRowDefColumns",r.displayedColumns),m(2),g("pageSizeOptions",P(4,mt)))},dependencies:[V,B,z,N,X,S,$,Y,F,L,G,q,j,J,K,W,A,Q,y,R,k,O,et,tt,I],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;border:1.5px solid #e0e0e0;border-radius:10px;padding:24px;background:transparent;box-shadow:none}.load-batch-btn[_ngcontent-%COMP%]{height:50px;min-width:120px;margin-left:8px;background:#4169e1!important;color:#fff!important;font-weight:600;font-size:16px;border-radius:8px;box-shadow:0 2px 8px #4169e126;transition:background .2s,box-shadow .2s,transform .1s;letter-spacing:.5px;border:none;display:flex;align-items:left;justify-content:center;padding:0 24px;margin-bottom:24px}.load-batch-btn[_ngcontent-%COMP%]:hover, .load-batch-btn[_ngcontent-%COMP%]:focus{background:#274bb5!important;box-shadow:0 4px 16px #4169e140;transform:translateY(-2px) scale(1.03)}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{background:transparent!important}.mat-elevation-z8[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-paginator-range-actions,   .mat-paginator-page-size,   .mat-paginator-page-size-label,   .mat-paginator-range-label,   .mat-paginator-navigation-previous,   .mat-paginator-navigation-next,   .mat-paginator-page-size-select,   .mat-paginator-page-size-select .mat-select-trigger,   .mat-paginator-page-size-select .mat-select-value,   .paginator-row,   div[style*=background],   .mat-mdc-paginator,   .mat-mdc-paginator-container,   .mat-mdc-paginator-range-actions{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-mdc-paginator,   .mat-mdc-paginator-container{background:transparent!important;box-shadow:none!important;border:none!important}"]})};export{ot as UserComponent};
