import{h as j}from"./chunk-KGOMAVQY.js";import{p as A}from"./chunk-NFABPVPM.js";import{a as G}from"./chunk-7MYEMUVZ.js";import"./chunk-MS4AQ6UA.js";import{b as x}from"./chunk-LB6LRJVS.js";import"./chunk-YBNMVR6Q.js";import"./chunk-3RK6DDJD.js";import{c as B}from"./chunk-BUEFDGFJ.js";import"./chunk-SGYCFQGT.js";import"./chunk-HSUA2CKH.js";import"./chunk-TMATL23G.js";import{b as E,d as l,g as N,h,ha as L,ia as O,j as b,l as w,m as W,oa as z,pa as D,s as v,ta as V,ua as k,v as F,w as q,x as T}from"./chunk-FPYKYBTQ.js";import{$b as u,Db as n,Eb as t,Kc as I,Lb as S,Rc as P,Wb as i,Ya as a,_b as f,a as M,ac as y,b as _,bb as c,ib as C,nb as d,ub as p}from"./chunk-NKHI3LCY.js";function U(o,m){o&1&&(n(0,"mat-error"),i(1,"First Name is required"),t())}function Z(o,m){o&1&&(n(0,"mat-error"),i(1,"Last Name is required"),t())}function H(o,m){o&1&&(n(0,"mat-error"),i(1,"A valid Email is required"),t())}function J(o,m){o&1&&(n(0,"mat-error"),i(1,"Contact Number is required"),t())}function K(o,m){o&1&&(n(0,"mat-error"),i(1,"Street is required"),t())}function Q(o,m){o&1&&(n(0,"mat-error"),i(1,"City is required"),t())}function X(o,m){o&1&&(n(0,"mat-error"),i(1,"State is required"),t())}function Y(o,m){o&1&&(n(0,"mat-error"),i(1,"Zip Code is required"),t())}var R=class o{constructor(m,g){this.fb=m;this.mayorsprofileService=g;this.personalInfoForm=this.fb.group({firstName:["",l.required],lastName:["",l.required],email:["",[l.required,l.email]],contactNo:["",l.required],address:this.fb.group({street:["",l.required],city:["",l.required],state:["",l.required],zipCode:["",l.required]})})}personalInfoForm;mayor=null;user={firstName:"",lastName:"",email:"",contactNo:""};address={street:"",city:"",state:"",zipCode:""};ngOnInit(){this.loadUserData()}loadUserData(){this.mayorsprofileService.getMayorsProfile(1).subscribe(m=>{this.mayor=m,this.personalInfoForm.patchValue(m)})}onSubmit(){if(this.personalInfoForm.valid){let m=this.mayor?.id??0,g=null,e=_(M({},this.personalInfoForm.value),{id:m});this.mayorsprofileService.updateMayorsProfile(m,g,e).subscribe(()=>{},s=>{})}}static \u0275fac=function(g){return new(g||o)(c(F),c(G))};static \u0275cmp=C({type:o,selectors:[["app-mayors-personal-info"]],decls:43,vars:16,consts:[["appearance","fill"],["matInput","","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","type","email","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",3,"click"]],template:function(g,e){g&1&&(n(0,"form")(1,"mat-form-field",0)(2,"mat-label"),i(3,"First Name"),t(),n(4,"input",1),y("ngModelChange",function(r){return u(e.user.firstName,r)||(e.user.firstName=r),r}),t(),d(5,U,2,0,"mat-error",2),t(),n(6,"mat-form-field",0)(7,"mat-label"),i(8,"Last Name"),t(),n(9,"input",1),y("ngModelChange",function(r){return u(e.user.lastName,r)||(e.user.lastName=r),r}),t(),d(10,Z,2,0,"mat-error",2),t(),n(11,"mat-form-field",0)(12,"mat-label"),i(13,"Email"),t(),n(14,"input",3),y("ngModelChange",function(r){return u(e.user.email,r)||(e.user.email=r),r}),t(),d(15,H,2,0,"mat-error",2),t(),n(16,"mat-form-field",0)(17,"mat-label"),i(18,"Contact Number"),t(),n(19,"input",1),y("ngModelChange",function(r){return u(e.user.contactNo,r)||(e.user.contactNo=r),r}),t(),d(20,J,2,0,"mat-error",2),t(),n(21,"mat-form-field",0)(22,"mat-label"),i(23,"Street"),t(),n(24,"input",1),y("ngModelChange",function(r){return u(e.address.street,r)||(e.address.street=r),r}),t(),d(25,K,2,0,"mat-error",2),t(),n(26,"mat-form-field",0)(27,"mat-label"),i(28,"City"),t(),n(29,"input",1),y("ngModelChange",function(r){return u(e.address.city,r)||(e.address.city=r),r}),t(),d(30,Q,2,0,"mat-error",2),t(),n(31,"mat-form-field",0)(32,"mat-label"),i(33,"State"),t(),n(34,"input",1),y("ngModelChange",function(r){return u(e.address.state,r)||(e.address.state=r),r}),t(),d(35,X,2,0,"mat-error",2),t(),n(36,"mat-form-field",0)(37,"mat-label"),i(38,"Zip Code"),t(),n(39,"input",1),y("ngModelChange",function(r){return u(e.address.zipCode,r)||(e.address.zipCode=r),r}),t(),d(40,Y,2,0,"mat-error",2),t(),n(41,"button",4),S("click",function(){return e.onSubmit()}),i(42,"Save"),t()()),g&2&&(a(4),f("ngModel",e.user.firstName),a(),p("ngIf",!e.user.firstName),a(4),f("ngModel",e.user.lastName),a(),p("ngIf",!e.user.lastName),a(4),f("ngModel",e.user.email),a(),p("ngIf",!e.user.email),a(4),f("ngModel",e.user.contactNo),a(),p("ngIf",!e.user.contactNo),a(4),f("ngModel",e.address.street),a(),p("ngIf",!e.address.street),a(4),f("ngModel",e.address.city),a(),p("ngIf",!e.address.city),a(4),f("ngModel",e.address.state),a(),p("ngIf",!e.address.state),a(4),f("ngModel",e.address.zipCode),a(),p("ngIf",!e.address.zipCode))},dependencies:[T,W,E,N,h,v,D,z,L,O,P,I,k,V,B,j,x,A,q,w,b],styles:[".personal-info-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px}.personal-info-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:16px}.personal-info-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end;margin-top:16px}.error-message[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:-12px;margin-bottom:12px}"]})};export{R as MayorsPersonalInfoComponent};
