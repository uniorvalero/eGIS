import{c as k,e as xe}from"./chunk-2IGJZFV7.js";import{a as de,b as pe,c as se}from"./chunk-KGOMAVQY.js";import{a as F,b as ue,c as ce,e as fe,f as ve,h as Ee,i as _e,k as Ce,l as ge,n as he,o as be,p as Se,q as Me}from"./chunk-NFABPVPM.js";import"./chunk-ECBSDO4K.js";import{a as me,b as le}from"./chunk-DQWGBFJK.js";import"./chunk-LB6LRJVS.js";import"./chunk-YBNMVR6Q.js";import{a as ee,b as te,c as ie}from"./chunk-AWMIQM5V.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import{c as ne}from"./chunk-BUEFDGFJ.js";import"./chunk-SGYCFQGT.js";import{a as ae}from"./chunk-HSUA2CKH.js";import{a as G}from"./chunk-TMATL23G.js";import{b as L,d as h,g as z,h as Y,ha as D,ia as re,m as U,oa as w,p as J,pa as oe,q as K,s as W,ta as I,ua as T,v as X,x as Z}from"./chunk-FPYKYBTQ.js";import{Db as n,Eb as i,Fb as s,Gb as E,Hb as _,Jb as N,Kc as Q,Lb as f,Mb as M,Qb as x,Rb as y,Rc as B,Sb as R,Vb as H,Wb as a,Xb as P,Y as j,Ya as m,Yb as u,ba as A,bb as v,dc as $,ib as S,ka as C,la as g,nb as d,ub as p}from"./chunk-NKHI3LCY.js";function Te(e,t){e&1&&(n(0,"mat-error"),a(1,"Code is required"),i())}function Fe(e,t){e&1&&(n(0,"mat-error"),a(1,"Amount is required"),i())}function qe(e,t){e&1&&(n(0,"mat-error"),a(1,"Description is required"),i())}function Oe(e,t){e&1&&(n(0,"mat-error"),a(1,"Setup Year is required"),i())}var q=class e{constructor(t,r,o){this.fb=t;this.dialogRef=r;this.data=o;this.isEditMode=!!o.id,this.form=this.fb.group({id:[o.id],code:[o.code||"",[h.required]],amount:[o.amount||"",[h.required]],description:[o.description||"",[h.required]],setupyear:[o.setupyear||"",[h.required]]})}form;isEditMode;onSubmit(){this.form.valid&&this.dialogRef.close(this.form.value)}onCancel(){this.dialogRef.close()}static \u0275fac=function(r){return new(r||e)(v(X),v(de),v(pe))};static \u0275cmp=S({type:e,selectors:[["app-er-dialog"]],decls:29,vars:8,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],["matInput","","formControlName","code","required",""],[4,"ngIf"],["matInput","","formControlName","amount","required",""],["matInput","","formControlName","description","required",""],["matInput","","formControlName","setupyear","required",""],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(r,o){if(r&1&&(n(0,"div",0)(1,"h2",1),a(2),i(),n(3,"form",2),f("ngSubmit",function(){return o.onSubmit()}),n(4,"mat-form-field",3)(5,"mat-label"),a(6," Code"),i(),s(7,"input",4),d(8,Te,2,0,"mat-error",5),i(),n(9,"mat-form-field",3)(10,"mat-label"),a(11,"Amount "),i(),s(12,"input",6),d(13,Fe,2,0,"mat-error",5),i(),n(14,"mat-form-field",3)(15,"mat-label"),a(16,"Description"),i(),s(17,"input",7),d(18,qe,2,0,"mat-error",5),i(),n(19,"mat-form-field",3)(20,"mat-label"),a(21,"Setup Year"),i(),s(22,"input",8),d(23,Oe,2,0,"mat-error",5),i(),n(24,"div",9)(25,"button",10),f("click",function(){return o.onCancel()}),a(26,"Cancel"),i(),n(27,"button",11),a(28),i()()()()),r&2){let l,c,b,V;m(2),u("",o.isEditMode?"Edit":"Add"," Estimated Revenue"),m(),p("formGroup",o.form),m(5),p("ngIf",(l=o.form.get("code"))==null?null:l.hasError("required")),m(5),p("ngIf",(c=o.form.get("amount"))==null?null:c.hasError("required")),m(5),p("ngIf",(b=o.form.get("description"))==null?null:b.hasError("required")),m(5),p("ngIf",(V=o.form.get("setupyear"))==null?null:V.hasError("required")),m(4),p("disabled",!o.form.valid),m(),P(o.isEditMode?"Update":"Create")}},dependencies:[Z,U,L,z,Y,W,J,K,oe,w,D,re,B,Q,T,I,ne],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}"]})};var O=class e{constructor(t){this.http=t}apibaseurl=ae.toimsApiBaseURL;getEstimatedRevenue(){return this.http.get(this.apibaseurl+"/EstimatedRevenue")}updateEstimatedRevenue(t){return this.http.put(`${this.apibaseurl+"/EstimatedRevenue"}/${t.id}`,t)}createEstiamatedRevenue(t){return t.id=0,this.http.post(this.apibaseurl+"/EstimatedRevenue/Create",t)}deleteER(t){return this.http.delete(`${this.apibaseurl+"/EstimatedRevenue"}/${t}`)}static \u0275fac=function(r){return new(r||e)(A(G))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var ke=()=>[5,10,25,100];function Ve(e,t){e&1&&(n(0,"th",22),a(1," ID "),i())}function je(e,t){if(e&1&&(n(0,"td",23),a(1),i()),e&2){let r=t.$implicit;m(),u(" ",r.id," ")}}function Ae(e,t){e&1&&(n(0,"th",22),a(1," Code "),i())}function He(e,t){if(e&1&&(n(0,"td",23),a(1),i()),e&2){let r=t.$implicit;m(),u(" ",r.code," ")}}function Pe(e,t){e&1&&(n(0,"th",22),a(1," Amout "),i())}function $e(e,t){if(e&1&&(n(0,"td",23),a(1),i()),e&2){let r=t.$implicit;m(),u(" ",r.amount," ")}}function Qe(e,t){e&1&&(n(0,"th",22),a(1," Description "),i())}function Be(e,t){if(e&1&&(n(0,"td",23),a(1),i()),e&2){let r=t.$implicit;m(),u(" ",r.description," ")}}function Ge(e,t){e&1&&(n(0,"th",22),a(1," Setup Year"),i())}function Le(e,t){if(e&1&&(n(0,"td",23),a(1),i()),e&2){let r=t.$implicit;m(),u(" ",r.setupyear," ")}}function ze(e,t){e&1&&(n(0,"th",24),a(1," Action "),i())}function Ye(e,t){if(e&1){let r=N();n(0,"td",25)(1,"button",26),f("click",function(){let l=C(r).$implicit,c=M();return g(c.openDialog(l))}),n(2,"mat-icon"),a(3,"edit"),i()(),n(4,"button",26),f("click",function(){let l=C(r).$implicit,c=M();return g(c.deleteER(l.id))}),n(5,"mat-icon"),a(6,"delete"),i()()()}}function Ue(e,t){e&1&&s(0,"tr",27)}function Je(e,t){e&1&&s(0,"tr",28)}function Ke(e,t){if(e&1&&(n(0,"tr",29)(1,"td",30),a(2),i()()),e&2){M();let r=H(11);m(2),u('No data matching the filter "',r.value,'"')}}var Re=class e{constructor(t,r){this.erService=t;this.dialog=r}displayedColumns=["id","code","amount","setupyear","description","actions"];dataSource;paginator;sort;table;ngOnInit(){this.loadER()}loadER(){this.erService.getEstimatedRevenue().subscribe(t=>{this.dataSource=new Me(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let r=t.target.value;this.dataSource.filter=r.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(q,{data:t||{}}).afterClosed().subscribe(o=>{o&&(o.id?this.erService.updateEstimatedRevenue(o).subscribe(()=>{this.loadER()}):this.erService.createEstiamatedRevenue(o).subscribe(()=>{this.loadER()}))})}deleteER(t){confirm("Are you sure you want to delete this Estimated Revenue?")&&this.erService.deleteER(t).subscribe(()=>{this.loadER()})}static \u0275fac=function(r){return new(r||e)(v(O),v(se))};static \u0275cmp=S({type:e,selectors:[["app-estimatedrevenue"]],viewQuery:function(r,o){if(r&1&&(x(k,5),x(xe,5),x(F,5)),r&2){let l;y(l=R())&&(o.paginator=l.first),y(l=R())&&(o.sort=l.first),y(l=R())&&(o.table=l.first)}},decls:36,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",3,"click"],[1,"full-width"],["matInput","","placeholder","Search Estimated Revenue...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","amount"],["matColumnDef","description"],["matColumnDef","setupyear"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(r,o){if(r&1){let l=N();n(0,"div",1)(1,"div")(2,"h1",2),a(3,"Estimated Revenue Entry"),i(),n(4,"button",3),f("click",function(){return C(l),g(o.openDialog())}),a(5,"Add Estimated Revenue"),i()(),n(6,"div")(7,"mat-form-field",4)(8,"mat-label"),a(9,"Filter"),i(),n(10,"input",5,0),f("keyup",function(b){return C(l),g(o.applyFilter(b))}),i()()(),n(12,"div",6)(13,"table",7),E(14,8),d(15,Ve,2,0,"th",9)(16,je,2,1,"td",10),_(),E(17,11),d(18,Ae,2,0,"th",9)(19,He,2,1,"td",10),_(),E(20,12),d(21,Pe,2,0,"th",9)(22,$e,2,1,"td",10),_(),E(23,13),d(24,Qe,2,0,"th",9)(25,Be,2,1,"td",10),_(),E(26,14),d(27,Ge,2,0,"th",9)(28,Le,2,1,"td",10),_(),E(29,15),d(30,ze,2,0,"th",16)(31,Ye,7,0,"td",17),_(),d(32,Ue,1,0,"tr",18)(33,Je,1,0,"tr",19)(34,Ke,3,1,"tr",20),i(),s(35,"mat-paginator",21),i()()}r&2&&(m(13),p("dataSource",o.dataSource),m(19),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(2),p("pageSizeOptions",$(4,ke)))},dependencies:[w,T,I,D,Se,F,ce,_e,fe,ue,Ce,ve,Ee,ge,he,be,le,me,k,ie,te,ee],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}"]})};export{Re as EstimatedrevenueComponent};
