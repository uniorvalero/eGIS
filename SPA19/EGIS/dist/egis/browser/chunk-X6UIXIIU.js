import{c as F,e as De}from"./chunk-2IGJZFV7.js";import{a as pe,b as ce,c as ue}from"./chunk-KGOMAVQY.js";import{a as T,b as se,c as fe,e as ve,f as Ce,h as _e,i as he,k as ge,l as Re,n as be,o as Se,p as Me,q as xe}from"./chunk-NFABPVPM.js";import"./chunk-ECBSDO4K.js";import{a as me,b as de}from"./chunk-DQWGBFJK.js";import"./chunk-LB6LRJVS.js";import"./chunk-YBNMVR6Q.js";import{a as te,b as ne,c as ie}from"./chunk-AWMIQM5V.js";import{c as G}from"./chunk-FE5V2QVG.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import{c as oe}from"./chunk-BUEFDGFJ.js";import"./chunk-SGYCFQGT.js";import{a as le}from"./chunk-HSUA2CKH.js";import{a as B}from"./chunk-TMATL23G.js";import{b as z,d as b,g as K,h as U,ha as E,ia as re,m as J,oa as y,p as W,pa as ae,q as X,s as Y,ta as I,ua as P,v as Z,x as ee}from"./chunk-FPYKYBTQ.js";import{Db as o,Eb as i,Fb as u,Gb as C,Hb as _,Jb as N,Kc as L,Lb as s,Mb as R,Qb as x,Rb as D,Rc as Q,Sb as w,Vb as H,Wb as a,Xb as $,Y as V,Ya as m,Yb as f,ba as j,bb as v,dc as A,ib as M,ka as h,la as g,nb as d,ub as p}from"./chunk-NKHI3LCY.js";function Te(e,t){e&1&&(o(0,"mat-error"),a(1,"Code is required"),i())}function qe(e,t){e&1&&(o(0,"mat-error"),a(1,"Sequence No. is required"),i())}function ke(e,t){e&1&&(o(0,"mat-error"),a(1,"Kind is required"),i())}function Ne(e,t){e&1&&(o(0,"mat-error"),a(1,"Description is required"),i())}var q=class e{constructor(t,n,r){this.fb=t;this.dialogRef=n;this.data=r;this.isEditMode=!!r.id,this.form=this.fb.group({id:[r.id],code:[r.code||"",[b.required]],kind:[r.kind||"",[b.required]],seqNo:[r.seqNo||"",[b.required]],description:[r.description||"",[b.required]]})}form;isEditMode;onSubmit(){this.form.valid&&this.dialogRef.close(this.form.value)}onCancel(){this.dialogRef.close()}static \u0275fac=function(n){return new(n||e)(v(Z),v(pe),v(ce))};static \u0275cmp=M({type:e,selectors:[["app-revenuecodeparent-dialog"]],decls:29,vars:8,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],["matInput","","formControlName","code","required",""],[4,"ngIf"],["matInput","","formControlName","seqNo","required",""],["matInput","","formControlName","kind","required",""],["matInput","","formControlName","description","required",""],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(n,r){if(n&1&&(o(0,"div",0)(1,"h2",1),a(2),i(),o(3,"form",2),s("ngSubmit",function(){return r.onSubmit()}),o(4,"mat-form-field",3)(5,"mat-label"),a(6," Code"),i(),u(7,"input",4),d(8,Te,2,0,"mat-error",5),i(),o(9,"mat-form-field",3)(10,"mat-label"),a(11,"Sequence Number"),i(),u(12,"input",6),d(13,qe,2,0,"mat-error",5),i(),o(14,"mat-form-field",3)(15,"mat-label"),a(16,"Kind"),i(),u(17,"input",7),d(18,ke,2,0,"mat-error",5),i(),o(19,"mat-form-field",3)(20,"mat-label"),a(21,"Description"),i(),u(22,"input",8),d(23,Ne,2,0,"mat-error",5),i(),o(24,"div",9)(25,"button",10),s("click",function(){return r.onCancel()}),a(26,"Cancel"),i(),o(27,"button",11),a(28),i()()()()),n&2){let l,c,S,O;m(2),f("",r.isEditMode?"Edit":"Add"," Revenue Code Parent"),m(),p("formGroup",r.form),m(5),p("ngIf",(l=r.form.get("code"))==null?null:l.hasError("required")),m(5),p("ngIf",(c=r.form.get("seqNo"))==null?null:c.hasError("required")),m(5),p("ngIf",(S=r.form.get("kind"))==null?null:S.hasError("required")),m(5),p("ngIf",(O=r.form.get("description"))==null?null:O.hasError("required")),m(4),p("disabled",!r.form.valid),m(),$(r.isEditMode?"Update":"Create")}},dependencies:[ee,J,z,K,U,Y,W,X,ae,y,E,re,Q,L,P,I,oe],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}"]})};var k=class e{constructor(t){this.http=t}apibaseurl=le.toimsApiBaseURL;getRevenueCodeParentLst(){return this.http.get(this.apibaseurl+"/RevenueCodeParent")}updateRevenueCodeParent(t){return this.http.put(`${this.apibaseurl+"/RevenueCodeParent"}/${t.id}`,t)}createRevenueCodeParent(t){return t.id=0,this.http.post(this.apibaseurl+"/RevenueCodeParent/Create",t)}deleteRevenueCodeParent(t){return this.http.delete(`${this.apibaseurl+"/RevenueCodeParent"}/${t}`)}static \u0275fac=function(n){return new(n||e)(j(B))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};var Oe=()=>[5,10,25,100];function Ve(e,t){e&1&&(o(0,"th",22),a(1," ID "),i())}function je(e,t){if(e&1&&(o(0,"td",23),a(1),i()),e&2){let n=t.$implicit;m(),f(" ",n.id," ")}}function He(e,t){e&1&&(o(0,"th",22),a(1," Code "),i())}function $e(e,t){if(e&1&&(o(0,"td",23),a(1),i()),e&2){let n=t.$implicit;m(),f(" ",n.code," ")}}function Ae(e,t){e&1&&(o(0,"th",22),a(1," Sequence Number "),i())}function Le(e,t){if(e&1&&(o(0,"td",23),a(1),i()),e&2){let n=t.$implicit;m(),f(" ",n.seqNo," ")}}function Qe(e,t){e&1&&(o(0,"th",22),a(1," Kind "),i())}function Be(e,t){if(e&1&&(o(0,"td",23),a(1),i()),e&2){let n=t.$implicit;m(),f(" ",n.kind," ")}}function Ge(e,t){e&1&&(o(0,"th",22),a(1," Description "),i())}function ze(e,t){if(e&1&&(o(0,"td",23),a(1),i()),e&2){let n=t.$implicit;m(),f(" ",n.description," ")}}function Ke(e,t){e&1&&(o(0,"th",24),a(1," Action "),i())}function Ue(e,t){if(e&1){let n=N();o(0,"td",25)(1,"button",26),s("click",function(){let l=h(n).$implicit,c=R();return g(c.openChild(l.code,l.description))}),o(2,"mat-icon"),a(3,"open_in_new"),i()(),o(4,"button",27),s("click",function(){let l=h(n).$implicit,c=R();return g(c.openDialog(l))}),o(5,"mat-icon"),a(6,"edit"),i()(),o(7,"button",27),s("click",function(){let l=h(n).$implicit,c=R();return g(c.deleteRevenueCodeParent(l.id))}),o(8,"mat-icon"),a(9,"delete"),i()()()}}function Je(e,t){e&1&&u(0,"tr",28)}function We(e,t){e&1&&u(0,"tr",29)}function Xe(e,t){if(e&1&&(o(0,"tr",30)(1,"td",31),a(2),i()()),e&2){R();let n=H(11);m(2),f('No data matching the filter "',n.value,'"')}}var Ee=class e{constructor(t,n,r){this.router=t;this.revenuecodeparentService=n;this.dialog=r}showSubCode=!1;selectedMasterCode;selectedDescription;displayedColumns=["id","code","seqNo","kind","description","actions"];dataSource;paginator;sort;table;ngOnInit(){this.loadRevenueCodeParent()}loadRevenueCodeParent(){this.revenuecodeparentService.getRevenueCodeParentLst().subscribe(t=>{this.dataSource=new xe(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let n=t.target.value;this.dataSource.filter=n.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(q,{data:t||{}}).afterClosed().subscribe(r=>{r&&(r.id?this.revenuecodeparentService.updateRevenueCodeParent(r).subscribe(()=>{this.loadRevenueCodeParent()}):this.revenuecodeparentService.createRevenueCodeParent(r).subscribe(()=>{this.loadRevenueCodeParent()}))})}deleteRevenueCodeParent(t){confirm("Are you sure you want to delete this revenue code parent?")&&this.revenuecodeparentService.deleteRevenueCodeParent(t).subscribe(()=>{this.loadRevenueCodeParent()})}openChild(t,n){this.router.navigate(["/mainlayout/revenuecodechild",t,n]),this.selectedMasterCode=t,this.selectedDescription=n,this.showSubCode=!0}static \u0275fac=function(n){return new(n||e)(v(G),v(k),v(ue))};static \u0275cmp=M({type:e,selectors:[["app-revenuecodeparent"]],viewQuery:function(n,r){if(n&1&&(x(F,5),x(De,5),x(T,5)),n&2){let l;D(l=w())&&(r.paginator=l.first),D(l=w())&&(r.sort=l.first),D(l=w())&&(r.table=l.first)}},decls:36,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",3,"click"],[1,"full-width"],["matInput","","placeholder","Search Revenue code parent...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","seqNo"],["matColumnDef","kind"],["matColumnDef","description"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Open child",3,"click"],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(n,r){if(n&1){let l=N();o(0,"div",1)(1,"div")(2,"h1",2),a(3,"Revenue Code Parent"),i(),o(4,"button",3),s("click",function(){return h(l),g(r.openDialog())}),a(5,"Add Revenue Code Parent"),i()(),o(6,"div")(7,"mat-form-field",4)(8,"mat-label"),a(9,"Filter"),i(),o(10,"input",5,0),s("keyup",function(S){return h(l),g(r.applyFilter(S))}),i()()(),o(12,"div",6)(13,"table",7),C(14,8),d(15,Ve,2,0,"th",9)(16,je,2,1,"td",10),_(),C(17,11),d(18,He,2,0,"th",9)(19,$e,2,1,"td",10),_(),C(20,12),d(21,Ae,2,0,"th",9)(22,Le,2,1,"td",10),_(),C(23,13),d(24,Qe,2,0,"th",9)(25,Be,2,1,"td",10),_(),C(26,14),d(27,Ge,2,0,"th",9)(28,ze,2,1,"td",10),_(),C(29,15),d(30,Ke,2,0,"th",16)(31,Ue,10,0,"td",17),_(),d(32,Je,1,0,"tr",18)(33,We,1,0,"tr",19)(34,Xe,3,1,"tr",20),i(),u(35,"mat-paginator",21),i()()}n&2&&(m(13),p("dataSource",r.dataSource),m(19),p("matHeaderRowDef",r.displayedColumns),m(),p("matRowDefColumns",r.displayedColumns),m(2),p("pageSizeOptions",A(4,Oe)))},dependencies:[y,P,I,E,Me,T,fe,he,ve,se,ge,Ce,_e,Re,be,Se,de,me,F,ie,ne,te],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}"]})};export{Ee as RevenuecodeparentComponent};
