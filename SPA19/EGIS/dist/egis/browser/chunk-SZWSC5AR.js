import{a as Pe,b as Fe,c as Ae}from"./chunk-XHTP2MJK.js";import{a as Ie,b as Ne,c as qe,h as Re}from"./chunk-QPQHFBXO.js";import{d as Oe}from"./chunk-DBLGM7RZ.js";import{a as Ee,b as Te,c as De}from"./chunk-V5IDTODI.js";import{b as se}from"./chunk-LEOWTEI6.js";import{c as P,e as Se,g as ye,h as we}from"./chunk-4QXU7Q3Z.js";import{e as q,f as de,g as ue,i as fe,j as he,l as Ce,m as ge,o as _e,p as ke,r as be,s as ve,t as xe,u as Me}from"./chunk-MYHFZ2D2.js";import"./chunk-3RK6DDJD.js";import{$ as D,aa as oe,b as W,d as T,da as le,g as X,ga as w,h as Y,ka as me,l as Z,la as I,m as ee,ma as N,n as te,o as ie,p as ne,q as ae,ra as ce,s as re,sa as pe}from"./chunk-KTJ4FNCK.js";import{a as K}from"./chunk-IKLMD3RG.js";import{n as U,t as J}from"./chunk-T6TR6RQX.js";import{$ as Q,Bb as n,Cb as e,Db as s,Eb as _,Fb as k,Hb as x,Lb as g,Mb as $,Qb as M,Rb as S,Sb as y,Va as l,Vb as E,W as L,Wb as a,Yb as d,_a as u,dc as z,fb as v,ia as h,ja as C,lb as c,sb as m}from"./chunk-5MRHDFKX.js";function Qe(t,i){t&1&&(n(0,"mat-error"),a(1,"Reference No. is required"),e())}function $e(t,i){t&1&&(n(0,"mat-error"),a(1,"Check No. is required"),e())}function ze(t,i){t&1&&(n(0,"mat-error"),a(1,"Date is required"),e())}function Ue(t,i){t&1&&(n(0,"mat-error"),a(1,"Amount is required"),e())}function Je(t,i){t&1&&(n(0,"mat-error"),a(1,"Bank Account Name is required"),e())}function Ke(t,i){t&1&&(n(0,"mat-error"),a(1,"Bank Name is required"),e())}function We(t,i){t&1&&(n(0,"mat-error"),a(1,"Branch is required"),e())}function Xe(t,i){t&1&&(n(0,"mat-error"),a(1,"Account No. is required"),e())}function Ye(t,i){t&1&&(n(0,"mat-error"),a(1,"Name of Tax Payer is required"),e())}var R=class t{constructor(i,o,r){this.fb=i;this.dialogRef=o;this.data=r;this.isEditMode=!!r.id,this.form=this.fb.group({checkno:[r.checkno||"",[T.required]],checkdate:[r.checkdate||"",[T.required]],amount:[r.amount||"",[T.required]]})}form;isEditMode;onSubmit(){this.form.valid&&this.dialogRef.close(this.form.value)}onCancel(){this.dialogRef.close()}static \u0275fac=function(o){return new(o||t)(u(ae),u(Ee),u(Te))};static \u0275cmp=v({type:t,selectors:[["app-transaction-checks-dialog"]],decls:82,vars:17,consts:[["picker",""],[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-4","full-width"],["matInput","","formControlName","referenceNo","required",""],[4,"ngIf"],["matInput","","formControlName","checkNo","required",""],["matInput","","formControlName","date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","type","number","formControlName","amount","required",""],[1,"row","align-items-center"],[1,"col-md-12","d-flex","align-items-center"],[1,"radio-group-label-inline"],["formControlName","status",1,"radio-group-inline"],[3,"value"],[1,"full-width"],["matInput","","formControlName","bankAccountName","required",""],["formControlName","typeOfCheck",1,"radio-group-inline"],["value","on-us"],["value","local"],["value","regional"],["matInput","","formControlName","bankName","required",""],["matInput","","formControlName","branch","required",""],["matInput","","formControlName","remarks"],["matInput","","formControlName","accountNo","required",""],["matInput","","formControlName","taxPayerName","required",""],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(o,r){if(o&1){let p=x();n(0,"div",1)(1,"h2",2),a(2),e(),n(3,"form",3),g("ngSubmit",function(){return h(p),C(r.onSubmit())}),n(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),a(7,"Reference No."),e(),s(8,"input",6),c(9,Qe,2,0,"mat-error",7),e(),n(10,"mat-form-field",5)(11,"mat-label"),a(12,"Check No."),e(),s(13,"input",8),c(14,$e,2,0,"mat-error",7),e(),n(15,"mat-form-field",5)(16,"mat-label"),a(17,"Date"),e(),s(18,"input",9)(19,"mat-datepicker-toggle",10)(20,"mat-datepicker",null,0),c(22,ze,2,0,"mat-error",7),e(),n(23,"mat-form-field",5)(24,"mat-label"),a(25,"Amount"),e(),s(26,"input",11),c(27,Ue,2,0,"mat-error",7),e()(),n(28,"div",12)(29,"div",13)(30,"label",14),a(31,"Status:"),e(),n(32,"mat-radio-group",15)(33,"mat-radio-button",16),a(34,"Ok"),e(),n(35,"mat-radio-button",16),a(36,"Cancelled"),e()()()(),n(37,"mat-form-field",17)(38,"mat-label"),a(39,"Bank Account Name"),e(),s(40,"input",18),c(41,Je,2,0,"mat-error",7),e(),n(42,"div",12)(43,"div",13)(44,"label",14),a(45,"Type of check:"),e(),n(46,"mat-radio-group",19)(47,"mat-radio-button",20),a(48,"On-us"),e(),n(49,"mat-radio-button",21),a(50,"Local Check"),e(),n(51,"mat-radio-button",22),a(52,"Regional Check"),e()()()(),n(53,"mat-form-field",17)(54,"mat-label"),a(55,"Bank Name"),e(),s(56,"input",23),c(57,Ke,2,0,"mat-error",7),e(),n(58,"mat-form-field",17)(59,"mat-label"),a(60,"Branch"),e(),s(61,"input",24),c(62,We,2,0,"mat-error",7),e(),n(63,"mat-form-field",17)(64,"mat-label"),a(65,"Remarks"),e(),s(66,"textarea",25),e(),n(67,"mat-form-field",17)(68,"mat-label"),a(69,"Account No."),e(),s(70,"input",26),c(71,Xe,2,0,"mat-error",7),e(),n(72,"mat-form-field",17)(73,"mat-label"),a(74,"Name of Tax Payer"),e(),s(75,"input",27),c(76,Ye,2,0,"mat-error",7),e(),n(77,"div",28)(78,"button",29),g("click",function(){return h(p),C(r.onCancel())}),a(79,"Cancel"),e(),n(80,"button",30),a(81),e()()()()}if(o&2){let p,f,b,F,A,V,j,B,H,G=E(21);l(2),d("",r.isEditMode?"Edit":"Add"," Check"),l(),m("formGroup",r.form),l(6),m("ngIf",(p=r.form.get("referenceNo"))==null?null:p.hasError("required")),l(5),m("ngIf",(f=r.form.get("checkNo"))==null?null:f.hasError("required")),l(4),m("matDatepicker",G),l(),m("for",G),l(3),m("ngIf",(b=r.form.get("date"))==null?null:b.hasError("required")),l(5),m("ngIf",(F=r.form.get("amount"))==null?null:F.hasError("required")),l(6),m("value",1),l(2),m("value",0),l(6),m("ngIf",(A=r.form.get("bankAccountName"))==null?null:A.hasError("required")),l(16),m("ngIf",(V=r.form.get("bankName"))==null?null:V.hasError("required")),l(5),m("ngIf",(j=r.form.get("branch"))==null?null:j.hasError("required")),l(9),m("ngIf",(B=r.form.get("accountNo"))==null?null:B.hasError("required")),l(5),m("ngIf",(H=r.form.get("taxPayerName"))==null?null:H.hasError("required")),l(4),m("disabled",!r.form.valid),l(),d(" ",r.isEditMode?"Update":"Create"," ")}},dependencies:[re,Z,W,ee,X,Y,ne,te,ie,me,w,D,oe,le,N,I,se,J,U,Ae,Pe,Fe,Re,Ie,Ne,qe,Oe],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}.compact-field[_ngcontent-%COMP%]{margin:4px 8px}.col-md-3[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%]{flex:0 0 calc(50% - 16px)}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.container-fluid[_ngcontent-%COMP%]{padding:8px;max-height:80vh;overflow-y:auto}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.radio-group-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;display:block}.radio-group-label-inline[_ngcontent-%COMP%]{font-weight:700;margin-right:16px;white-space:nowrap}.radio-group-inline[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}"]})};var O=class t{constructor(i){this.http=i}apibaseurl=we.bpltasApiBaseURL;getChecks(){return this.http.get(this.apibaseurl+"/Checks")}updateCheck(i){return this.http.put(`${this.apibaseurl+"/Checks"}/${i.id}`,i)}createCheck(i){return i.id=0,this.http.post(this.apibaseurl+"/Checks/Create",i)}deleteCheck(i){return this.http.delete(`${this.apibaseurl+"/Checks"}/${i}`)}static \u0275fac=function(o){return new(o||t)(Q(K))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var et=()=>[5,10,25,100];function tt(t,i){t&1&&(n(0,"th",18),a(1," ID "),e())}function it(t,i){if(t&1&&(n(0,"td",19),a(1),e()),t&2){let o=i.$implicit;l(),d(" ",o.id," ")}}function nt(t,i){t&1&&(n(0,"th",18),a(1," Code "),e())}function at(t,i){if(t&1&&(n(0,"td",19),a(1),e()),t&2){let o=i.$implicit;l(),d(" ",o.code," ")}}function rt(t,i){t&1&&(n(0,"th",18),a(1," Description "),e())}function ot(t,i){if(t&1&&(n(0,"td",19),a(1),e()),t&2){let o=i.$implicit;l(),d(" ",o.description," ")}}function lt(t,i){t&1&&(n(0,"th",18),a(1," Description "),e())}function mt(t,i){if(t&1&&(n(0,"td",19),a(1),e()),t&2){let o=i.$implicit;l(),d(" ",o.description," ")}}function ct(t,i){t&1&&s(0,"tr",20)}function pt(t,i){t&1&&s(0,"tr",21)}function st(t,i){if(t&1&&(n(0,"tr",22)(1,"td",23),a(2),e()()),t&2){$();let o=E(11);l(2),d('No data matching the filter "',o.value,'"')}}var je=class t{constructor(i,o){this.checksService=i;this.dialog=o}displayedColumns=["checkno","checkdate","amount"];dataSource;paginator;sort;table;ngOnInit(){this.loadChecks()}loadChecks(){this.checksService.getChecks().subscribe(i=>{this.dataSource=new Me(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(i){let o=i.target.value;this.dataSource.filter=o.trim().toLocaleLowerCase()}openDialog(i){this.dialog.open(R,{data:i||{}}).afterClosed().subscribe(r=>{r&&(r.id?this.checksService.updateCheck(r).subscribe(()=>{this.loadChecks()}):this.checksService.createCheck(r).subscribe(()=>{this.loadChecks()}))})}deleteChecks(i){confirm("Are you sure you want to delete this master table code?")&&this.checksService.deleteCheck(i).subscribe(()=>{this.loadChecks()})}static \u0275fac=function(o){return new(o||t)(u(O),u(De))};static \u0275cmp=v({type:t,selectors:[["app-transaction-checks"]],viewQuery:function(o,r){if(o&1&&(M(P,5),M(Se,5),M(q,5)),o&2){let p;S(p=y())&&(r.paginator=p.first),S(p=y())&&(r.sort=p.first),S(p=y())&&(r.table=p.first)}},decls:30,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",3,"click"],[1,"full-width"],["matInput","","placeholder","Search for checks...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","checkno"],["matColumnDef","checkdate"],["matColumnDef","amount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(o,r){if(o&1){let p=x();n(0,"div",1)(1,"div")(2,"h1",2),a(3,"Check Entry"),e(),n(4,"button",3),g("click",function(){return h(p),C(r.openDialog())}),a(5,"Add Check"),e()(),n(6,"div")(7,"mat-form-field",4)(8,"mat-label"),a(9,"Filter"),e(),n(10,"input",5,0),g("keyup",function(b){return h(p),C(r.applyFilter(b))}),e()()(),n(12,"div",6)(13,"table",7),_(14,8),c(15,tt,2,0,"th",9)(16,it,2,1,"td",10),k(),_(17,11),c(18,nt,2,0,"th",9)(19,at,2,1,"td",10),k(),_(20,12),c(21,rt,2,0,"th",9)(22,ot,2,1,"td",10),k(),_(23,13),c(24,lt,2,0,"th",9)(25,mt,2,1,"td",10),k(),c(26,ct,1,0,"tr",14)(27,pt,1,0,"tr",15)(28,st,3,1,"tr",16),e(),s(29,"mat-paginator",17),e()()}o&2&&(l(13),m("dataSource",r.dataSource),l(13),m("matHeaderRowDef",r.displayedColumns),l(),m("matRowDefColumns",r.displayedColumns),l(2),m("pageSizeOptions",z(4,et)))},dependencies:[w,N,I,D,xe,q,ue,ge,fe,de,_e,he,Ce,ke,be,ve,ye,P,pe,ce],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}"]})};export{je as TransactionChecksComponent};
