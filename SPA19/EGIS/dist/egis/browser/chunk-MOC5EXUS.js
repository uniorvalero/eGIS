import{a as ve,b as Se,c as xe}from"./chunk-JZMA4RSN.js";import{b as oe}from"./chunk-XND27LNV.js";import{c as k,e as Ce,f as he,g as be,h as De}from"./chunk-T6XAED5K.js";import{e as F,f as re,g as me,i as le,j as pe,l as de,m as ce,o as se,p as ue,r as fe,s as ge,t as Me,u as _e}from"./chunk-IFJ4ZPCK.js";import"./chunk-3RK6DDJD.js";import{$ as E,aa as ee,b as B,d as b,fa as w,g as z,h as U,ja as te,ka as I,l as J,la as R,n as K,o as W,oa as ie,p as X,q as Y,qa as ne,ra as ae,s as Z}from"./chunk-6Q2Z7QGE.js";import{a as G}from"./chunk-ZJWXBZTA.js";import{n as L,s as Q}from"./chunk-AXBZNO4R.js";import{$ as A,Bb as n,Cb as i,Db as c,Eb as M,Fb as _,Hb as O,Lb as f,Mb as x,Qb as D,Rb as T,Sb as y,Va as m,Vb as H,W as j,Wb as r,Xb as P,Yb as s,_a as g,dc as $,fb as S,ia as C,ja as h,lb as p,sb as d}from"./chunk-KFEO7OMD.js";function Fe(e,t){e&1&&(n(0,"mat-error"),r(1,"Code is required"),i())}function qe(e,t){e&1&&(n(0,"mat-error"),r(1,"Amount is required"),i())}function Ne(e,t){e&1&&(n(0,"mat-error"),r(1,"Description is required"),i())}function Oe(e,t){e&1&&(n(0,"mat-error"),r(1,"Name is required"),i())}var q=class e{constructor(t,a,o){this.fb=t;this.dialogRef=a;this.data=o;this.isEditMode=!!o.id,this.form=this.fb.group({id:[o.id],code:[o.code||"",[b.required]],amount:[o.amount||"",[b.required]],description:[o.description||"",[b.required]],name:[o.name||"",[b.required]]})}form;isEditMode;onSubmit(){this.form.valid&&this.dialogRef.close(this.form.value)}onCancel(){this.dialogRef.close()}static \u0275fac=function(a){return new(a||e)(g(Y),g(ve),g(Se))};static \u0275cmp=S({type:e,selectors:[["app-mt-dialog"]],decls:29,vars:8,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],["matInput","","formControlName","code","required",""],[4,"ngIf"],["matInput","","formControlName","amount","required",""],["matInput","","formControlName","description","required",""],["matInput","","formControlName","name","required",""],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(a,o){if(a&1&&(n(0,"div",0)(1,"h2",1),r(2),i(),n(3,"form",2),f("ngSubmit",function(){return o.onSubmit()}),n(4,"mat-form-field",3)(5,"mat-label"),r(6," Code"),i(),c(7,"input",4),p(8,Fe,2,0,"mat-error",5),i(),n(9,"mat-form-field",3)(10,"mat-label"),r(11,"Amount "),i(),c(12,"input",6),p(13,qe,2,0,"mat-error",5),i(),n(14,"mat-form-field",3)(15,"mat-label"),r(16,"Description"),i(),c(17,"input",7),p(18,Ne,2,0,"mat-error",5),i(),n(19,"mat-form-field",3)(20,"mat-label"),r(21,"Name"),i(),c(22,"input",8),p(23,Oe,2,0,"mat-error",5),i(),n(24,"div",9)(25,"button",10),f("click",function(){return o.onCancel()}),r(26,"Cancel"),i(),n(27,"button",11),r(28),i()()()()),a&2){let l,u,v,V;m(2),s("",o.isEditMode?"Edit":"Add"," Managing Template"),m(),d("formGroup",o.form),m(5),d("ngIf",(l=o.form.get("code"))==null?null:l.hasError("required")),m(5),d("ngIf",(u=o.form.get("amount"))==null?null:u.hasError("required")),m(5),d("ngIf",(v=o.form.get("description"))==null?null:v.hasError("required")),m(5),d("ngIf",(V=o.form.get("name"))==null?null:V.hasError("required")),m(4),d("disabled",!o.form.valid),m(),P(o.isEditMode?"Update":"Create")}},dependencies:[Z,J,B,z,U,X,K,W,te,w,E,ee,Q,L,R,I,oe],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}"]})};var N=class e{constructor(t){this.http=t}apibaseurl=De.apibaseURL;getMTList(){return this.http.get(this.apibaseurl+"/ManagingTemplate")}updateMT(t){return this.http.put(`${this.apibaseurl+"/ManagingTemplate"}/${t.id}`,t)}createMT(t){return t.id=0,this.http.post(this.apibaseurl+"/ManagingTemplate/Create",t)}deleteER(t){return this.http.delete(`${this.apibaseurl+"/ManagingTemplate"}/${t}`)}static \u0275fac=function(a){return new(a||e)(A(G))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ve=()=>[5,10,25,100];function je(e,t){e&1&&(n(0,"th",22),r(1," ID "),i())}function Ae(e,t){if(e&1&&(n(0,"td",23),r(1),i()),e&2){let a=t.$implicit;m(),s(" ",a.id," ")}}function He(e,t){e&1&&(n(0,"th",22),r(1," Code "),i())}function Pe(e,t){if(e&1&&(n(0,"td",23),r(1),i()),e&2){let a=t.$implicit;m(),s(" ",a.code," ")}}function $e(e,t){e&1&&(n(0,"th",22),r(1," Amout "),i())}function Le(e,t){if(e&1&&(n(0,"td",23),r(1),i()),e&2){let a=t.$implicit;m(),s(" ",a.amount," ")}}function Qe(e,t){e&1&&(n(0,"th",22),r(1," Description "),i())}function Ge(e,t){if(e&1&&(n(0,"td",23),r(1),i()),e&2){let a=t.$implicit;m(),s(" ",a.description," ")}}function Be(e,t){e&1&&(n(0,"th",22),r(1," Name"),i())}function ze(e,t){if(e&1&&(n(0,"td",23),r(1),i()),e&2){let a=t.$implicit;m(),s(" ",a.name," ")}}function Ue(e,t){e&1&&(n(0,"th",24),r(1," Action "),i())}function Je(e,t){if(e&1){let a=O();n(0,"td",25)(1,"button",26),f("click",function(){let l=C(a).$implicit,u=x();return h(u.openDialog(l))}),n(2,"mat-icon"),r(3,"edit"),i()(),n(4,"button",26),f("click",function(){let l=C(a).$implicit,u=x();return h(u.deleteMT(l.id))}),n(5,"mat-icon"),r(6,"delete"),i()()()}}function Ke(e,t){e&1&&c(0,"tr",27)}function We(e,t){e&1&&c(0,"tr",28)}function Xe(e,t){if(e&1&&(n(0,"tr",29)(1,"td",30),r(2),i()()),e&2){x();let a=H(11);m(2),s('No data matching the filter "',a.value,'"')}}var ye=class e{constructor(t,a){this.mtService=t;this.dialog=a}displayedColumns=["id","code","amount","name","description","actions"];dataSource;paginator;sort;table;ngOnInit(){this.loadMT()}loadMT(){this.mtService.getMTList().subscribe(t=>{this.dataSource=new _e(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let a=t.target.value;this.dataSource.filter=a.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(q,{data:t||{}}).afterClosed().subscribe(o=>{o&&(o.id?this.mtService.updateMT(o).subscribe(()=>{this.loadMT()}):this.mtService.createMT(o).subscribe(()=>{this.loadMT()}))})}deleteMT(t){confirm("Are you sure you want to delete this Managing Template?")&&this.mtService.deleteER(t).subscribe(()=>{this.loadMT()})}static \u0275fac=function(a){return new(a||e)(g(N),g(xe))};static \u0275cmp=S({type:e,selectors:[["app-managingtemplate"]],viewQuery:function(a,o){if(a&1&&(D(k,5),D(Ce,5),D(F,5)),a&2){let l;T(l=y())&&(o.paginator=l.first),T(l=y())&&(o.sort=l.first),T(l=y())&&(o.table=l.first)}},decls:36,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",3,"click"],[1,"full-width"],["matInput","","placeholder","Search Managing template...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","amount"],["matColumnDef","description"],["matColumnDef","name"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,o){if(a&1){let l=O();n(0,"div",1)(1,"div")(2,"h1",2),r(3,"Managing Template Entry"),i(),n(4,"button",3),f("click",function(){return C(l),h(o.openDialog())}),r(5,"Add Managing Template"),i()(),n(6,"div")(7,"mat-form-field",4)(8,"mat-label"),r(9,"Filter"),i(),n(10,"input",5,0),f("keyup",function(v){return C(l),h(o.applyFilter(v))}),i()()(),n(12,"div",6)(13,"table",7),M(14,8),p(15,je,2,0,"th",9)(16,Ae,2,1,"td",10),_(),M(17,11),p(18,He,2,0,"th",9)(19,Pe,2,1,"td",10),_(),M(20,12),p(21,$e,2,0,"th",9)(22,Le,2,1,"td",10),_(),M(23,13),p(24,Qe,2,0,"th",9)(25,Ge,2,1,"td",10),_(),M(26,14),p(27,Be,2,0,"th",9)(28,ze,2,1,"td",10),_(),M(29,15),p(30,Ue,2,0,"th",16)(31,Je,7,0,"td",17),_(),p(32,Ke,1,0,"tr",18)(33,We,1,0,"tr",19)(34,Xe,3,1,"tr",20),i(),c(35,"mat-paginator",21),i()()}a&2&&(m(13),d("dataSource",o.dataSource),m(19),d("matHeaderRowDef",o.displayedColumns),m(),d("matRowDefColumns",o.displayedColumns),m(2),d("pageSizeOptions",$(4,Ve)))},dependencies:[w,R,I,E,Me,F,me,ce,le,re,se,pe,de,ue,fe,ge,be,he,k,ae,ne,ie],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}"]})};export{ye as ManagingtemplateComponent};
