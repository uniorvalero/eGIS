import"./chunk-F5X5MWHG.js";import{a as we,b as Se,c as N,e as Ie}from"./chunk-2IGJZFV7.js";import{a as ae,b as me,c as le,e as ce,h as pe}from"./chunk-KGOMAVQY.js";import{a as T,b as de,c as se,e as ue,f as fe,h as ge,i as ve,k as _e,l as Ce,n as be,o as he,p as Me,q as xe}from"./chunk-NFABPVPM.js";import{a as ye}from"./chunk-IF4M6L7M.js";import{a as Pe}from"./chunk-QEDYW4PW.js";import"./chunk-ECBSDO4K.js";import{a as te,b as ie}from"./chunk-DQWGBFJK.js";import"./chunk-MS4AQ6UA.js";import{a as oe,b as re}from"./chunk-LB6LRJVS.js";import{f as ne}from"./chunk-YBNMVR6Q.js";import{a as X,b as w,c as S}from"./chunk-AWMIQM5V.js";import{c as Q}from"./chunk-FE5V2QVG.js";import"./chunk-O27SARHL.js";import"./chunk-3RK6DDJD.js";import"./chunk-SGYCFQGT.js";import"./chunk-HSUA2CKH.js";import"./chunk-TMATL23G.js";import{b as H,g as B,h as G,ha as I,ia as Z,m as $,oa as D,p as L,pa as ee,q as Y,s as J,ta as E,ua as O,v as K,x as W}from"./chunk-FPYKYBTQ.js";import{Db as r,Eb as o,Fb as f,Gb as C,Hb as b,Jb as k,Jc as A,Kc as q,Lb as u,Mb as y,Qb as h,Rb as M,Rc as z,Sb as x,Vb as V,Wb as a,Xb as R,Ya as l,Yb as g,bb as d,db as F,dc as j,ib as P,ka as v,la as _,nb as p,ub as c}from"./chunk-NKHI3LCY.js";function Ne(e,t){e&1&&(r(0,"mat-error"),a(1,"App Name is required"),o())}function Fe(e,t){if(e&1&&(r(0,"mat-option",13),a(1),o()),e&2){let n=t.$implicit;c("value",n.id),l(),R(n.countryName)}}function Ve(e,t){e&1&&(r(0,"mat-error"),a(1,"Country is required"),o())}var U=class e{constructor(t,n,i,m){this.fb=t;this.dialogRef=n;this.data=i;this.countryService=m;this.isEditMode=!!i.id,this.form=this.fb.group({id:[i.id||null],provinceName:[i.provinceName||"",[]],countryId:[i.countryId||null,[]]})}form;isEditMode;countries=[];ngOnInit(){this.countryService.getCountries().subscribe(t=>{this.countries=t})}onSubmit(){this.form.valid&&(console.log("Form submitted:",this.form.value),this.dialogRef.close(this.form.value))}onCancel(){this.dialogRef.close()}static \u0275fac=function(n){return new(n||e)(d(K),d(ae),d(me),d(Pe))};static \u0275cmp=P({type:e,selectors:[["app-user-province-dialog"]],decls:25,vars:7,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"full-width"],["matInput","","formControlName","appName","required",""],[4,"ngIf"],["matInput","","formControlName","description"],["formControlName","countryId","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"],[3,"value"]],template:function(n,i){if(n&1&&(r(0,"div",0)(1,"h2",1),a(2),o(),r(3,"form",2),u("ngSubmit",function(){return i.onSubmit()}),r(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),a(7,"Province Name"),o(),f(8,"input",5),p(9,Ne,2,0,"mat-error",6),o(),r(10,"mat-form-field",4)(11,"mat-label"),a(12,"Description"),o(),f(13,"input",7),o(),r(14,"mat-form-field",4)(15,"mat-label"),a(16,"Country"),o(),r(17,"mat-select",8),p(18,Fe,2,2,"mat-option",9),o(),p(19,Ve,2,0,"mat-error",6),o()(),r(20,"div",10)(21,"button",11),u("click",function(){return i.onCancel()}),a(22,"Cancel"),o(),r(23,"button",12),a(24),o()()()()),n&2){let m,s;l(2),g("",i.isEditMode?"Edit":"Add"," App"),l(),c("formGroup",i.form),l(6),c("ngIf",(m=i.form.get("appName"))==null?null:m.hasError("required")),l(9),c("ngForOf",i.countries),l(),c("ngIf",(s=i.form.get("countryId"))==null?null:s.hasError("required")),l(4),c("disabled",!i.form.valid),l(),R(i.isEditMode?"Update":"Create")}},dependencies:[z,A,q,O,E,D,I,Z,ee,S,w,pe,ce,re,oe,ne,W,$,H,B,G,J,L,Y],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px;background:transparent!important;box-shadow:none!important}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.dialog-actions[_ngcontent-%COMP%]{margin-top:24px;display:flex;justify-content:flex-end;gap:12px}  .mat-dialog-container{background:#ffffff80!important;box-shadow:0 8px 32px #0000002e;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}  .mat-form-field-appearance-fill .mat-form-field-flex,   .mat-form-field-appearance-fill .mat-form-field-infix,   .mat-form-field-appearance-fill .mat-form-field-outline,   .mat-form-field-wrapper,   .mat-form-field-flex,   .mat-form-field-infix,   .mat-input-element,   .mat-select-trigger,   .mat-select-value,   .mat-select,   input.mat-input-element,   textarea.mat-input-element{background:transparent!important;box-shadow:none!important}"]})};var je=["dynamicComponentContainer"],Ae=()=>[5,10,25,100];function qe(e,t){e&1&&(r(0,"th",20),a(1," Id "),o())}function ze(e,t){if(e&1&&(r(0,"td",21),a(1),o()),e&2){let n=t.$implicit;l(),g(" ",n.id," ")}}function Qe(e,t){e&1&&(r(0,"th",20),a(1," Province Name "),o())}function He(e,t){if(e&1&&(r(0,"td",21),a(1),o()),e&2){let n=t.$implicit;l(),g(" ",n.provinceName," ")}}function Be(e,t){e&1&&(r(0,"th",20),a(1," Country "),o())}function Ge(e,t){if(e&1&&(r(0,"td",21),a(1),o()),e&2){let n=t.$implicit;l(),g(" ",n.countryId," ")}}function $e(e,t){e&1&&(r(0,"th",22),a(1," Action "),o())}function Le(e,t){if(e&1){let n=k();r(0,"td",23)(1,"button",24),u("click",function(){let m=v(n).$implicit,s=y();return _(s.openDialog(m))}),r(2,"mat-icon"),a(3,"edit"),o()(),r(4,"button",25),u("click",function(){let m=v(n).$implicit,s=y();return _(s.deleteProvince(m))}),r(5,"mat-icon"),a(6,"delete"),o()()()}}function Ye(e,t){e&1&&f(0,"tr",26)}function Je(e,t){e&1&&f(0,"tr",27)}function Ke(e,t){if(e&1&&(r(0,"tr",28)(1,"td",29),a(2),o()()),e&2){y();let n=V(13);l(2),g('No data matching the filter "',n.value,'"')}}var De=class e{constructor(t,n,i){this.router=t;this.provinceService=n;this.dialog=i}provinces=[];displayedColumns=["provinceName","countryId","actions"];dataSource;paginator;sort;table;container;ngOnInit(){this.loadProvinces()}loadProvinces(){this.provinceService.getProvinces().subscribe(t=>{this.dataSource=new xe(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let n=t.target.value;this.dataSource.filter=n.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(U,{data:t||{}}).afterClosed().subscribe(i=>{i&&(i.id?this.provinceService.updateProvince(i).subscribe(()=>{this.loadProvinces()}):this.provinceService.createProvince(i).subscribe(()=>{this.loadProvinces()}))})}deleteProvince(t){confirm(`Delete province ${t.provinceName}?`)&&this.provinceService.deleteProvince(t.id).subscribe(()=>this.loadProvinces())}static \u0275fac=function(n){return new(n||e)(d(Q),d(ye),d(le))};static \u0275cmp=P({type:e,selectors:[["app-user-province"]],viewQuery:function(n,i){if(n&1&&(h(N,5),h(Ie,5),h(T,5),h(je,5,F)),n&2){let m;M(m=x())&&(i.paginator=m.first),M(m=x())&&(i.sort=m.first),M(m=x())&&(i.table=m.first),M(m=x())&&(i.container=m.first)}},decls:32,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",1,"load-batch-btn",3,"click"],[1,"full-width"],["matInput","","placeholder","Search user...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","provinceName"],["matColumnDef","countryId"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Edit Master Code",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete Master Code",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(n,i){if(n&1){let m=k();r(0,"div",1)(1,"div")(2,"h1",2),a(3,"Users"),o(),a(4," \xA0 "),r(5,"button",3),u("click",function(){return v(m),_(i.openDialog())}),a(6,"Add User"),o()(),a(7," \xA0 "),r(8,"div")(9,"mat-form-field",4)(10,"mat-label"),a(11,"Filter"),o(),r(12,"input",5,0),u("keyup",function(Ee){return v(m),_(i.applyFilter(Ee))}),o()()(),r(14,"div",6)(15,"table",7),C(16,8),p(17,qe,2,0,"th",9)(18,ze,2,1,"td",10),b(),C(19,11),p(20,Qe,2,0,"th",9)(21,He,2,1,"td",10),b(),C(22,12),p(23,Be,2,0,"th",9)(24,Ge,2,1,"td",10),b(),C(25,13),p(26,$e,2,0,"th",14)(27,Le,7,0,"td",15),b(),p(28,Ye,1,0,"tr",16)(29,Je,1,0,"tr",17)(30,Ke,3,1,"tr",18),o(),f(31,"mat-paginator",19),o()()}n&2&&(l(15),c("dataSource",i.dataSource),l(13),c("matHeaderRowDef",i.displayedColumns),l(),c("matRowDefColumns",i.displayedColumns),l(2),c("pageSizeOptions",j(4,Ae)))},dependencies:[O,E,D,I,Me,T,se,ve,ue,de,_e,fe,ge,Ce,be,he,ie,te,N,S,w,X,Se,we],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;border:1.5px solid #e0e0e0;border-radius:10px;padding:24px;background:transparent;box-shadow:none}.load-batch-btn[_ngcontent-%COMP%]{height:50px;min-width:120px;margin-left:8px;background:#4169e1!important;color:#fff!important;font-weight:600;font-size:16px;border-radius:8px;box-shadow:0 2px 8px #4169e126;transition:background .2s,box-shadow .2s,transform .1s;letter-spacing:.5px;border:none;display:flex;align-items:left;justify-content:center;padding:0 24px;margin-bottom:24px}.load-batch-btn[_ngcontent-%COMP%]:hover, .load-batch-btn[_ngcontent-%COMP%]:focus{background:#274bb5!important;box-shadow:0 4px 16px #4169e140;transform:translateY(-2px) scale(1.03)}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{background:transparent!important}.mat-elevation-z8[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-paginator-range-actions,   .mat-paginator-page-size,   .mat-paginator-page-size-label,   .mat-paginator-range-label,   .mat-paginator-navigation-previous,   .mat-paginator-navigation-next,   .mat-paginator-page-size-select,   .mat-paginator-page-size-select .mat-select-trigger,   .mat-paginator-page-size-select .mat-select-value,   .paginator-row,   div[style*=background],   .mat-mdc-paginator,   .mat-mdc-paginator-container,   .mat-mdc-paginator-range-actions{background:transparent!important;box-shadow:none!important}  .mat-paginator,   .mat-paginator-container,   .mat-paginator-outer-container,   .mat-mdc-paginator,   .mat-mdc-paginator-container{background:transparent!important;box-shadow:none!important;border:none!important}"]})};export{De as UserProvinceComponent};
