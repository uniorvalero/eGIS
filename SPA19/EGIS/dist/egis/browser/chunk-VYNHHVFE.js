import{a as Ae}from"./chunk-FSZBO3KK.js";import{a as ee,b as te,c as qe,e as Oe,f as Fe,h as Pe}from"./chunk-V5IDTODI.js";import{b as Q}from"./chunk-LEOWTEI6.js";import"./chunk-F5X5MWHG.js";import"./chunk-MS4AQ6UA.js";import{a as we,b as Ie,c as S,d as Ee,e as Z,f as Re,g as Ne,h as Ve}from"./chunk-4QXU7Q3Z.js";import{J as ye,e as v,f as $,g as L,i as z,j as B,l as G,m as U,o as J,p as K,r as W,s as X,t as Y,u as P}from"./chunk-MYHFZ2D2.js";import"./chunk-3RK6DDJD.js";import{$ as I,aa as ve,b as fe,d as w,g as Ce,ga as E,h as he,ka as j,l as _e,la as R,ma as N,n as Te,o as ge,p as be,pa as Se,q as ke,r as Me,ra as xe,s as H,sa as De}from"./chunk-KTJ4FNCK.js";import{c as ue}from"./chunk-XHFMZJAH.js";import{a as pe}from"./chunk-IKLMD3RG.js";import{n as de,t as A}from"./chunk-T6TR6RQX.js";import{$ as ce,Bb as n,Cb as i,Db as d,Eb as h,Fb as _,Hb as q,Lb as u,Mb as y,Qb as b,Rb as k,Sb as M,Va as m,Vb as O,W as me,Wb as r,Xb as F,Yb as f,_a as p,ab as se,dc as V,fb as D,ia as T,ja as g,lb as c,sb as s}from"./chunk-5MRHDFKX.js";function ze(e,t){e&1&&(n(0,"mat-error"),r(1,"Control Number is required"),i())}function Be(e,t){e&1&&(n(0,"mat-error"),r(1,"Quantity is required"),i())}function Ge(e,t){e&1&&(n(0,"mat-error"),r(1,"Amount is required"),i())}function Ue(e,t){e&1&&(n(0,"mat-error"),r(1,"Teller Code is required"),i())}function Je(e,t){e&1&&(n(0,"mat-error"),r(1,"Teller Name is required"),i())}var ie=class e{constructor(t,a,o){this.fb=t;this.dialogRef=a;this.data=o;this.isEditMode=!!o.id,console.log(o),this.form=this.fb.group({id:[o.id],controlNumber:[o.controlNumber||"",[w.required]],quantity:[o.quantity||"",[w.required]],amount:[o.amount||"",[w.required]],tellerName:[o.tellerName||"",[w.required]],tellerCode:[o.tellerCode||"",[w.required]]})}form;isEditMode;onSubmit(){this.form.valid&&(console.log(this.form.value),this.dialogRef.close(this.form.value))}onCancel(){this.dialogRef.close()}static \u0275fac=function(a){return new(a||e)(p(ke),p(ee),p(te))};static \u0275cmp=D({type:e,selectors:[["app-cash-ticket-dialog"]],decls:34,vars:9,consts:[[1,"container-fluid"],["mat-dialog-title",""],[1,"form-container",3,"ngSubmit","formGroup"],[1,"full-width"],["matInput","","formControlName","controlNumber","required",""],[4,"ngIf"],["matInput","","formControlName","quantity","required",""],["matInput","","formControlName","amount","required",""],["matInput","","formControlName","tellerCode","required",""],["matInput","","formControlName","tellerName","required",""],[1,"dialog-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(a,o){if(a&1&&(n(0,"div",0)(1,"h2",1),r(2),i(),n(3,"form",2),u("ngSubmit",function(){return o.onSubmit()}),n(4,"mat-form-field",3)(5,"mat-label"),r(6," controlNumber"),i(),d(7,"input",4),c(8,ze,2,0,"mat-error",5),i(),n(9,"mat-form-field",3)(10,"mat-label"),r(11,"quantity"),i(),d(12,"input",6),c(13,Be,2,0,"mat-error",5),i(),n(14,"mat-form-field",3)(15,"mat-label"),r(16,"amount"),i(),d(17,"input",7),c(18,Ge,2,0,"mat-error",5),i(),n(19,"mat-form-field",3)(20,"mat-label"),r(21," tellerCode"),i(),d(22,"input",8),c(23,Ue,2,0,"mat-error",5),i(),n(24,"mat-form-field",3)(25,"mat-label"),r(26," tellerName"),i(),d(27,"input",9),c(28,Je,2,0,"mat-error",5),i(),n(29,"div",10)(30,"button",11),u("click",function(){return o.onCancel()}),r(31,"Cancel"),i(),n(32,"button",12),r(33),i()()()()),a&2){let l,C,x,re,le;m(2),f("",o.isEditMode?"Edit":"Add","Add Cash ticket Issuaance"),m(),s("formGroup",o.form),m(5),s("ngIf",(l=o.form.get("controlNumber"))==null?null:l.hasError("required")),m(5),s("ngIf",(C=o.form.get("quantity"))==null?null:C.hasError("required")),m(5),s("ngIf",(x=o.form.get("amount"))==null?null:x.hasError("required")),m(5),s("ngIf",(re=o.form.get("controlNumber"))==null?null:re.hasError("required")),m(5),s("ngIf",(le=o.form.get("tellerName"))==null?null:le.hasError("required")),m(4),s("disabled",!o.form.valid),m(),F(o.isEditMode?"Update":"Create")}},dependencies:[H,_e,fe,Ce,he,be,Te,ge,j,E,I,ve,A,de,N,R,Q],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;height:100%;padding:10px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}mat-dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}mat-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:10px}"]})};var We=()=>[5,10,25,100];function Xe(e,t){e&1&&(n(0,"th",19),r(1,"Teller Code"),i())}function Ye(e,t){if(e&1&&(n(0,"td",20),r(1),i()),e&2){let a=t.$implicit;m(),F(a.code)}}function Ze(e,t){e&1&&(n(0,"th",21),r(1,"Teller Name"),i())}function et(e,t){if(e&1&&(n(0,"td",22),r(1),i()),e&2){let a=t.$implicit;m(),F(a.name)}}function tt(e,t){e&1&&d(0,"tr",23)}function it(e,t){e&1&&d(0,"tr",24)}function at(e,t){if(e&1&&(n(0,"tr",25)(1,"td",26),r(2),i()()),e&2){y();let a=O(20);m(2),f('No data matching the filter "',a.value,'"')}}var ae=class e{constructor(t,a,o){this.tellerService=t;this.dialogRef=a;this.data=o;this.dataSource=new P([])}displayedColumns=["tellerCode","tellerName"];dataSource;searchText="";paginator;sort;table;ngOnInit(){this.loadTellers()}loadTellers(){this.tellerService.getTellers().subscribe(t=>{this.dataSource=new P(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase()}onCancel(){this.dialogRef.close()}static \u0275fac=function(a){return new(a||e)(p(Ae),p(ee),p(te))};static \u0275cmp=D({type:e,selectors:[["app-cash-ticket-teller-dialog"]],viewQuery:function(a,o){if(a&1&&(b(S,5),b(Z,5),b(v,5)),a&2){let l;k(l=M())&&(o.paginator=l.first),k(l=M())&&(o.sort=l.first),k(l=M())&&(o.table=l.first)}},decls:24,vars:5,consts:[["input",""],["mat-dialog-title","",2,"justify-content","center"],[1,"table-responsive","mb-3"],["mat-table","",1,"mat-elevation-z1","or-table",3,"dataSource"],["matColumnDef","tellerCode"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tellerName"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","text-end",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of tellers",3,"pageSizeOptions"],[1,"row","mb-2","flex-gap"],["appearance","fill",1,"flex-1"],["matInput","",2,"margin-left","8px","width","100px",3,"keyup"],[1,"action-row","mb-2",2,"margin-top","16px","display","flex","justify-content","center","gap","16px"],["mat-raised-button","","color","primary","type","button",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"text-end"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,o){if(a&1){let l=q();n(0,"h2",1),r(1,"List of Teller"),i(),n(2,"mat-dialog-content")(3,"div",2)(4,"table",3),h(5,4),c(6,Xe,2,0,"th",5)(7,Ye,2,1,"td",6),_(),h(8,7),c(9,Ze,2,0,"th",8)(10,et,2,1,"td",9),_(),c(11,tt,1,0,"tr",10)(12,it,1,0,"tr",11)(13,at,3,1,"tr",12),i(),d(14,"mat-paginator",13),i(),n(15,"div",14)(16,"mat-form-field",15)(17,"mat-label"),r(18,"Type a character to search"),i(),n(19,"input",16,0),u("keyup",function(){T(l);let x=O(20);return g(o.applyFilter(x.value))}),i()()(),n(21,"div",17)(22,"button",18),u("click",function(){return T(l),g(o.onCancel())}),r(23," Exit "),i()()()}a&2&&(m(4),s("dataSource",o.dataSource),m(7),s("matHeaderRowDef",o.displayedColumns),m(),s("matRowDefColumns",o.displayedColumns),m(2),s("pageSizeOptions",V(4,We)))},dependencies:[Y,v,L,U,z,$,J,B,G,K,W,X,Me,H,j,E,I,A,N,R,Q,Pe,Oe,Fe,ye,Ee,S],styles:[".selected[_ngcontent-%COMP%]{background-color:#b3e5fc!important}.mat-row[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{cursor:pointer}.mat-table[_ngcontent-%COMP%]{border:1px solid #bdbdbd;border-radius:4px;background:#fff}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{text-align:left;padding:8px 12px;font-size:15px}.mat-header-cell[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}.mat-header-row[_ngcontent-%COMP%]{height:48px}.mat-row[_ngcontent-%COMP%]:hover{background-color:#e3f2fd}"]})};var oe=class e{constructor(t){this.http=t}apibaseurl=Ve.toimsApiBaseURL;getCashTickets(){return this.http.get(this.apibaseurl+"/CashTicket")}updateCashTicket(t){return this.http.put(`${this.apibaseurl+"/CashTicket"}/${t.id}`,t)}createCashTicket(t){return t.id=0,console.log(t,"calling createCashTicket"),this.http.post(this.apibaseurl+"/CashTicket/Create",t)}deleteCashTicket(t){return this.http.delete(`${this.apibaseurl+"/CashTicket"}/${t}`)}static \u0275fac=function(a){return new(a||e)(ce(pe))};static \u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})};var nt=["dynamicComponentContainer"],rt=()=>[5,10,25,100];function lt(e,t){e&1&&(n(0,"th",23),r(1," ID "),i())}function mt(e,t){if(e&1&&(n(0,"td",24),r(1),i()),e&2){let a=t.$implicit;m(),f(" ",a.id," ")}}function ct(e,t){e&1&&(n(0,"th",23),r(1," Control Number "),i())}function st(e,t){if(e&1&&(n(0,"td",24),r(1),i()),e&2){let a=t.$implicit;m(),f(" ",a.controlNumber," ")}}function dt(e,t){e&1&&(n(0,"th",23),r(1," Quantity "),i())}function pt(e,t){if(e&1&&(n(0,"td",24),r(1),i()),e&2){let a=t.$implicit;m(),f(" ",a.quantity," ")}}function ut(e,t){e&1&&(n(0,"th",23),r(1," Amount "),i())}function ft(e,t){if(e&1&&(n(0,"td",24),r(1),i()),e&2){let a=t.$implicit;m(),f(" ",a.amount," ")}}function Ct(e,t){e&1&&(n(0,"th",23),r(1," Teller Name "),i())}function ht(e,t){if(e&1&&(n(0,"td",24),r(1),i()),e&2){let a=t.$implicit;m(),f(" ",a.tellerName," ")}}function _t(e,t){e&1&&(n(0,"th",23),r(1," Teller Code "),i())}function Tt(e,t){if(e&1&&(n(0,"td",24),r(1),i()),e&2){let a=t.$implicit;m(),f(" ",a.tellerCode," ")}}function gt(e,t){e&1&&(n(0,"th",25),r(1," Action "),i())}function bt(e,t){if(e&1){let a=q();n(0,"td",26)(1,"button",27),u("click",function(){let l=T(a).$implicit,C=y();return g(C.openDialog(l))}),n(2,"mat-icon"),r(3,"edit"),i()(),n(4,"button",28),u("click",function(){let l=T(a).$implicit,C=y();return g(C.deleteCashTicket(l.id))}),n(5,"mat-icon"),r(6,"delete"),i()()()}}function kt(e,t){e&1&&d(0,"tr",29)}function Mt(e,t){e&1&&d(0,"tr",30)}function vt(e,t){if(e&1&&(n(0,"tr",31)(1,"td",32),r(2),i()()),e&2){y();let a=O(16);m(2),f('No data matching the filter "',a.value,'"')}}var Le=class e{constructor(t,a,o){this.router=t;this.cashticketService=a;this.dialog=o}showSubCode=!1;selectedMasterCode;selectedDescription;displayedColumns=["id","controlNumber","quantity","amount","tellerName","tellerCode","actions"];dataSource;paginator;sort;table;container;ngOnInit(){this.loadCashTicket()}loadCashTicket(){this.cashticketService.getCashTickets().subscribe(t=>{this.dataSource=new P(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let a=t.target.value;this.dataSource.filter=a.trim().toLocaleLowerCase()}openDialog(t){this.dialog.open(ie,{data:t||{}}).afterClosed().subscribe(o=>{o&&(o.id?this.cashticketService.updateCashTicket(o).subscribe(()=>{this.loadCashTicket()}):this.cashticketService.createCashTicket(o).subscribe(()=>{this.loadCashTicket()}))})}getAllTeller(){this.dialog.open(ae,{data:{}}).afterClosed().subscribe(a=>{a&&console.log("Selected teller:",a)})}deleteCashTicket(t){confirm("Are you sure you want to delete this master table code?")&&this.cashticketService.deleteCashTicket(t).subscribe(()=>{this.loadCashTicket()})}static \u0275fac=function(a){return new(a||e)(p(ue),p(oe),p(qe))};static \u0275cmp=D({type:e,selectors:[["app-cash-ticket"]],viewQuery:function(a,o){if(a&1&&(b(S,5),b(Z,5),b(v,5),b(nt,5,se)),a&2){let l;k(l=M())&&(o.paginator=l.first),k(l=M())&&(o.sort=l.first),k(l=M())&&(o.table=l.first),k(l=M())&&(o.container=l.first)}},decls:44,vars:5,consts:[["input",""],[1,"table-container"],[1,"text-2xl","font-bold"],["mat-raised-button","","color","primary",3,"click"],[1,"full-width"],["matInput","","placeholder","Search cash ticket...",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","controlNumber"],["matColumnDef","quantity"],["matColumnDef","amount"],["matColumnDef","tellerName"],["matColumnDef","tellerCode"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary","matTooltip","Edit Cash Ticket",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete Cash Ticket",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,o){if(a&1){let l=q();n(0,"div",1)(1,"div")(2,"h1",2),r(3,"Cash Ticket Issuance"),i(),r(4," \xA0 "),n(5,"button",3),u("click",function(){return T(l),g(o.openDialog())}),r(6,"Add Cash Ticket"),i(),r(7," \xA0 "),n(8,"button",3),u("click",function(){return T(l),g(o.getAllTeller())}),r(9,"Teller Help"),i()(),r(10," \xA0 "),n(11,"div")(12,"mat-form-field",4)(13,"mat-label"),r(14,"Filter"),i(),n(15,"input",5,0),u("keyup",function(x){return T(l),g(o.applyFilter(x))}),i()()(),n(17,"div",6)(18,"table",7),h(19,8),c(20,lt,2,0,"th",9)(21,mt,2,1,"td",10),_(),h(22,11),c(23,ct,2,0,"th",9)(24,st,2,1,"td",10),_(),h(25,12),c(26,dt,2,0,"th",9)(27,pt,2,1,"td",10),_(),h(28,13),c(29,ut,2,0,"th",9)(30,ft,2,1,"td",10),_(),h(31,14),c(32,Ct,2,0,"th",9)(33,ht,2,1,"td",10),_(),h(34,15),c(35,_t,2,0,"th",9)(36,Tt,2,1,"td",10),_(),h(37,16),c(38,gt,2,0,"th",17)(39,bt,7,0,"td",18),_(),c(40,kt,1,0,"tr",19)(41,Mt,1,0,"tr",20)(42,vt,3,1,"tr",21),i(),d(43,"mat-paginator",22),i()()}a&2&&(m(18),s("dataSource",o.dataSource),m(22),s("matHeaderRowDef",o.displayedColumns),m(),s("matRowDefColumns",o.displayedColumns),m(2),s("pageSizeOptions",V(4,rt)))},dependencies:[E,N,R,I,Y,v,L,U,z,$,J,B,G,K,W,X,Ne,Re,S,De,xe,Se,Ie,we],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}  .mat-header-cell{background-color:#3f51b5;color:#fff;font-weight:700;font-size:16px;text-align:center}  .mat-header-row{height:56px}.full-width[_ngcontent-%COMP%]{width:100%}"]})};export{Le as CashTicketComponent};
